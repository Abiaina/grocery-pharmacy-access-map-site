"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[468],{4897:function(e,a,t){t.r(a),t.d(a,{default:function(){return K}});var r=t(7437),s=t(2265),i=t(759),o=t.n(i);t(5046);var l=t(755),n=t(3479),c=t(4508),d=t(8063);let u={DEFAULT_CENTER:[47.72,-122.3],DEFAULT_ZOOM:14,MIN_ZOOM:12,MAX_ZOOM:18},m={CLOSED:"#dc2626",POTENTIAL:"#f59e0b",SUPERMARKET:"#059669",LARGE_GROCERY:"#10b981",SMALL_GROCERY:"#84cc16",CORNER_STORE:"#2dd4bf",PHARMACY_FULL:"#7c3aed",PHARMACY_LIMITED:"#FFB000",FARMERS_MARKET:"#22c55e",DEFAULT:"#6b7280"},p={CLOSED:"#dc2626",LIMITED:"#FFB000",FULL:"#10b981"},h={CLOSED:6,DEFAULT:8,HYBRID_BONUS:2},y={supermarkets:!0,large_groceries:!0,small_groceries:!1,corner_stores:!1,pharmacies_full_hours:!0,pharmacies_limited_hours:!0,farmers_markets:!1,potential_library:!1,potential_neighborcare:!1,potential_health_dental:!1,potential_bartell:!1,potential_bank:!1,closed_fred_meyer:!0,closed_bartell:!0,closed_walgreens:!0,half_mile_radius:!1,one_mile_radius:!1,walking_10_min:!1,walking_15_min:!0},g={HALF_MILE:804.67,ONE_MILE:1609.34,TEN_MIN_WALK:805,FIFTEEN_MIN_WALK:1207};function f(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1],e.length<=5)return e;let a=[e[0]],t=Math.max(3,Math.floor(e.length/50));for(let r=t;r<e.length-t;r+=t)a.push(e[r]);return a.push(e[e.length-1]),a}var x=JSON.parse('{"type":"FeatureCollection","features":[{"type":"Feature","properties":{"id":"LC001","name":"Fred Meyer (Supermarket - Full Service Pharmacies)","address":"13000 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.291963,47.724082]},"geometry":{"type":"Point","coordinates":[-122.291963,47.724082]}},{"type":"Feature","properties":{"id":"LC002","name":"QFC - North Seattle (NE 145th St)","address":"1531 NE 145th St, Seattle, WA 98155","coordinates":[-122.3105,47.73335]},"geometry":{"type":"Point","coordinates":[-122.3105,47.73335]}},{"type":"Feature","properties":{"id":"LC003","name":"QFC - Northgate (Roosevelt Way NE)","address":"11100 Roosevelt Way NE, Seattle, WA 98125","coordinates":[-122.317275,47.709396]},"geometry":{"type":"Point","coordinates":[-122.317275,47.709396]}},{"type":"Feature","properties":{"id":"LC004","name":"Safeway (Roosevelt Way NE)","address":"7300 Roosevelt Way NE, Seattle, WA 98115","coordinates":[-122.31700180541914,47.682235475734664]},"geometry":{"type":"Point","coordinates":[-122.31700180541914,47.682235475734664]}},{"type":"Feature","properties":{"id":"LC005","name":"Walgreens (Northgate Way @ Roosevelt)","address":"859 NE Northgate Way, Seattle, WA 98125","coordinates":[-122.319,47.709]},"geometry":{"type":"Point","coordinates":[-122.319,47.709]}},{"type":"Feature","properties":{"id":"LC006","name":"Sprouts Farmers Market (Aurora)","address":"13010 Aurora Ave N, Seattle, WA 98133","coordinates":[-122.3429672,47.7235428]},"geometry":{"type":"Point","coordinates":[-122.3429672,47.7235428]}},{"type":"Feature","properties":{"id":"LC007","name":"Saar\'s Oak Tree Super Saver Foods","address":"10008 Aurora Ave N, Seattle, WA 98133","coordinates":[-122.342652,47.702578]},"geometry":{"type":"Point","coordinates":[-122.342652,47.702578]}},{"type":"Feature","properties":{"id":"LC008","name":"Grocery Outlet","address":"3020 NE 127th St, Seattle, WA 98125","coordinates":[-122.29498,47.72178]},"geometry":{"type":"Point","coordinates":[-122.29498,47.72178]}},{"type":"Feature","properties":{"id":"LC009","name":"City Grocery","address":"13737 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29003071843383,47.73007627022229]},"geometry":{"type":"Point","coordinates":[-122.29003071843383,47.73007627022229]}},{"type":"Feature","properties":{"id":"LC010","name":"Goodies Mediterranean Market","address":"13721 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29453682939305,47.730119569138076]},"geometry":{"type":"Point","coordinates":[-122.29453682939305,47.730119569138076]}},{"type":"Feature","properties":{"id":"LC011","name":"Kilimanjaro Market","address":"12714 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29354977657114,47.721949886293984]},"geometry":{"type":"Point","coordinates":[-122.29354977657114,47.721949886293984]}},{"type":"Feature","properties":{"id":"LC012","name":"Nazreth Market","address":"12322 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29372143794382,47.718716301042605]},"geometry":{"type":"Point","coordinates":[-122.29372143794382,47.718716301042605]}},{"type":"Feature","properties":{"id":"LC013","name":"Lake City Library","address":"12501 28th Ave NE, Seattle, WA 98125","coordinates":[-122.297,47.7208]},"geometry":{"type":"Point","coordinates":[-122.297,47.7208]}},{"type":"Feature","properties":{"id":"LC014","name":"Neighborcare Health Center","address":"12721 30th Ave NE, Seattle, WA 98125","coordinates":[-122.295,47.72]},"geometry":{"type":"Point","coordinates":[-122.295,47.72]}},{"type":"Feature","properties":{"id":"LC015","name":"North Seattle Public Health Dental","address":"12359 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29482301465367,47.71912903122116]},"geometry":{"type":"Point","coordinates":[-122.29482301465367,47.71912903122116]}},{"type":"Feature","properties":{"id":"LC016","name":"Former Bartell Drugs Building","address":"3018 NE 125th St, Seattle, WA 98125","coordinates":[-122.298,47.722]},"geometry":{"type":"Point","coordinates":[-122.298,47.722]}},{"type":"Feature","properties":{"id":"LC017","name":"Former Bank Site","address":"2825 NE 125th St, Seattle, WA 98125","coordinates":[-122.29482301465367,47.71912903122116]},"geometry":{"type":"Point","coordinates":[-122.29482301465367,47.71912903122116]}},{"type":"Feature","properties":{"id":"LC018","name":"Bartell Drugs (Full Service Pharmacies)","address":"3018 NE 125th St, Seattle, WA 98125","coordinates":[-122.2956250619695,47.71968596554774]},"geometry":{"type":"Point","coordinates":[-122.2956250619695,47.71968596554774]}},{"type":"Feature","properties":{"id":"LC019","name":"Walgreens (Full Service Pharmacies)","address":"14352 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29194719450025,47.73363925901361]},"geometry":{"type":"Point","coordinates":[-122.29194719450025,47.73363925901361]}},{"type":"Feature","properties":{"id":"LC020","name":"Target (Northgate)","address":"302 NE Northgate Way, Seattle, WA 98125","coordinates":[-122.32497614494788,47.70890478849319]},"geometry":{"type":"Point","coordinates":[-122.32497614494788,47.70890478849319]}},{"type":"Feature","properties":{"id":"LC021","name":"Seattle Indian Health Board - Lake City Clinic","address":"12736 33rd Ave NE, Seattle, WA 98125","coordinates":[-122.2919986,47.722238]},"geometry":{"type":"Point","coordinates":[-122.2919986,47.722238]}},{"type":"Feature","properties":{"id":"LC022","name":"Genoa Healthcare","address":"11000 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.3009303355822,47.70883096631093]},"geometry":{"type":"Point","coordinates":[-122.3009303355822,47.70883096631093]}},{"type":"Feature","properties":{"id":"LC023","name":"Lake City Farmers Market","address":"12501 28th Ave NE, Seattle, WA 98125","coordinates":[-122.29800162148858,47.720159835592455]},"geometry":{"type":"Point","coordinates":[-122.29800162148858,47.720159835592455]}},{"type":"Feature","properties":{"id":"LC024","name":"Whole Foods Market","address":"1026 NE 64th St, Seattle, WA 98115","coordinates":[-122.31587527768852,47.67524665751115]},"geometry":{"type":"Point","coordinates":[-122.31587527768852,47.67524665751115]}}]}'),_=JSON.parse('{"sites":[{"id":"LC001","name":"Fred Meyer (Supermarket - Full Service Pharmacies)","address":"13000 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.291963,47.724082],"usda_category":{"code":"SM","name":"Supermarket","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":true,"status":"closed","is_potential_site":false,"closed_date":"Oct 2025","notes":"Large supermarket with full service departments (butcher, bakery, pharmacy). Provides comprehensive fresh food access."},{"id":"LC002","name":"QFC - North Seattle (NE 145th St)","address":"1531 NE 145th St, Seattle, WA 98155","coordinates":[-122.3105,47.73335],"usda_category":{"code":"SM","name":"Supermarket","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":true,"status":"open","is_potential_site":false,"closed_date":null,"pharmacy_hours_category":"full_hours","pharmacy_hours":"M-F 9am-1pm, 1:30-8pm; Sat 9am-1pm, 1:30-6pm; Sun 11am-1pm, 1:30-6pm","hours":"Daily 6am-11pm","notes":"Full-line supermarket with in-store pharmacy - extended daily and weekend hours"},{"id":"LC003","name":"QFC - Northgate (Roosevelt Way NE)","address":"11100 Roosevelt Way NE, Seattle, WA 98125","coordinates":[-122.317275,47.709396],"usda_category":{"code":"SM","name":"Supermarket","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":true,"status":"open","is_potential_site":false,"closed_date":null,"pharmacy_hours_category":"full_hours","pharmacy_hours":"M-F 9am-1pm, 1:30-8pm; Sat 9am-1pm, 1:30-6pm; Sun 11am-1pm, 1:30-6pm","hours":"Daily 6am-11pm","notes":"Full-line supermarket with in-store pharmacy - extended daily and weekend hours"},{"id":"LC004","name":"Safeway (Roosevelt Way NE)","address":"7300 Roosevelt Way NE, Seattle, WA 98115","coordinates":[-122.31700180541914,47.682235475734664],"usda_category":{"code":"SM","name":"Supermarket","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":true,"status":"open","is_potential_site":false,"closed_date":null,"pharmacy_hours_category":"full_hours","pharmacy_hours":"M-F 9am-1:30pm, 2-8pm; Sat-Sun 10am-1:30pm, 2-6pm","hours":"Daily 6am-11pm","notes":"Full-line supermarket with in-store pharmacy - extended daily and weekend hours"},{"id":"LC005","name":"Walgreens (Northgate Way @ Roosevelt)","address":"859 NE Northgate Way, Seattle, WA 98125","coordinates":[-122.319,47.709],"usda_category":{"code":"PH","name":"Pharmacy","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":true,"status":"open","is_potential_site":false,"closed_date":null,"pharmacy_hours_category":"full_hours","pharmacy_hours":"M-F 9am-1:30pm, 2-9pm; Sat-Sun 10am-1:30pm, 2-6pm","hours":"Daily 8am-10pm","notes":"Pharmacy with prescription services - extended daily and weekend hours (approx coords)"},{"id":"LC006","name":"Sprouts Farmers Market (Aurora)","address":"13010 Aurora Ave N, Seattle, WA 98133","coordinates":[-122.3429672,47.7235428],"usda_category":{"code":"LG","name":"Large Grocery","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":false,"status":"open","is_potential_site":false,"closed_date":null,"notes":"Natural foods supermarket with fresh produce and organic options"},{"id":"LC007","name":"Saar\'s Oak Tree Super Saver Foods","address":"10008 Aurora Ave N, Seattle, WA 98133","coordinates":[-122.342652,47.702578],"usda_category":{"code":"LG","name":"Large Grocery","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":false,"status":"open","is_potential_site":false,"closed_date":null,"notes":"Full-line supermarket with competitive pricing"},{"id":"LC008","name":"Grocery Outlet","address":"3020 NE 127th St, Seattle, WA 98125","coordinates":[-122.29498,47.72178],"usda_category":{"code":"SG","name":"Small Grocery","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":false,"status":"open","is_potential_site":false,"closed_date":null,"notes":"Discount grocery store with limited fresh food selection and often soon-to-expire items"},{"id":"LC009","name":"City Grocery","address":"13737 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29003071843383,47.73007627022229],"usda_category":{"code":"SG","name":"Small Grocery","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":false,"status":"open","is_potential_site":false,"closed_date":null,"notes":"Small independent grocer; limited produce and fresh items"},{"id":"LC010","name":"Goodies Mediterranean Market","address":"13721 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29453682939305,47.730119569138076],"usda_category":{"code":"SG","name":"Small Grocery","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":false,"status":"open","is_potential_site":false,"closed_date":null,"notes":"Specialty Mediterranean grocery store"},{"id":"LC011","name":"Kilimanjaro Market","address":"12714 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29354977657114,47.721949886293984],"usda_category":{"code":"SG","name":"Small Grocery","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":false,"status":"open","is_potential_site":false,"closed_date":null,"notes":"Small independent grocer; limited produce and fresh items"},{"id":"LC012","name":"Nazreth Market","address":"12322 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29372143794382,47.718716301042605],"usda_category":{"code":"SG","name":"Small Grocery","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":false,"status":"open","is_potential_site":false,"closed_date":null,"notes":"Small independent grocer; limited produce and fresh items"},{"id":"LC013","name":"Lake City Library","address":"12501 28th Ave NE, Seattle, WA 98125","coordinates":[-122.297,47.7208],"usda_category":{"code":"N/A","name":"Potential Site","source":"Community Planning"},"has_pharmacy":false,"status":"potential","is_potential_site":true,"closed_date":null,"notes":"Public library with community meeting spaces"},{"id":"LC014","name":"Neighborcare Health Center","address":"12721 30th Ave NE, Seattle, WA 98125","coordinates":[-122.295,47.72],"usda_category":{"code":"N/A","name":"Potential Site","source":"Community Planning"},"has_pharmacy":false,"status":"potential","is_potential_site":true,"closed_date":null,"notes":"Community health center for integrated pharmacy services"},{"id":"LC015","name":"North Seattle Public Health Dental","address":"12359 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29482301465367,47.71912903122116],"usda_category":{"code":"N/A","name":"Potential Site","source":"Community Planning"},"has_pharmacy":true,"status":"potential","is_potential_site":true,"closed_date":null,"notes":"Public health dental clinic with pharmacy potential"},{"id":"LC016","name":"Former Bartell Drugs Building","address":"3018 NE 125th St, Seattle, WA 98125","coordinates":[-122.298,47.722],"usda_category":{"code":"N/A","name":"Potential Site","source":"Community Planning"},"has_pharmacy":true,"status":"potential","is_potential_site":true,"closed_date":null,"notes":"Former pharmacy building, ideal for pharmacy services"},{"id":"LC017","name":"Former Bank Site","address":"2825 NE 125th St, Seattle, WA 98125","coordinates":[-122.29482301465367,47.71912903122116],"usda_category":{"code":"N/A","name":"Potential Site","source":"Community Planning"},"has_pharmacy":true,"status":"potential","is_potential_site":true,"closed_date":null,"notes":"Former bank building suitable for pharmacy conversion"},{"id":"LC018","name":"Bartell Drugs (Full Service Pharmacies)","address":"3018 NE 125th St, Seattle, WA 98125","coordinates":[-122.2956250619695,47.71968596554774],"usda_category":{"code":"PH","name":"Pharmacy","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":true,"status":"closed","is_potential_site":false,"closed_date":"2023","notes":"Closed pharmacy location"},{"id":"LC019","name":"Walgreens (Full Service Pharmacies)","address":"14352 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29194719450025,47.73363925901361],"usda_category":{"code":"PH","name":"Pharmacy","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":true,"status":"closed","is_potential_site":false,"closed_date":"2024","notes":"Closed pharmacy location"},{"id":"LC020","name":"Target (Northgate)","address":"302 NE Northgate Way, Seattle, WA 98125","coordinates":[-122.32497614494788,47.70890478849319],"usda_category":{"code":"LG","name":"Large Grocery","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":true,"status":"open","is_potential_site":false,"pharmacy_hours_category":"full_hours","pharmacy_hours":"M-F 9am-1:30pm, 2-8pm; Sat-Sun 9am-1:30pm, 2-6pm","hours":"Daily 8am-9pm","notes":"Large grocery store with pharmacy services - extended daily and weekend hours"},{"id":"LC021","name":"Seattle Indian Health Board - Lake City Clinic","address":"12736 33rd Ave NE, Seattle, WA 98125","coordinates":[-122.2919986,47.722238],"usda_category":{"code":"PH","name":"Pharmacy","source":"Community Health Center"},"has_pharmacy":true,"status":"open","is_potential_site":false,"pharmacy_hours_category":"limited_hours","pharmacy_hours":"M-F 8am-5pm","hours":"M-F 8am - 5pm","notes":"Community health center with limited pharmacy hours - weekdays only"},{"id":"LC022","name":"Genoa Healthcare","address":"11000 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.3009303355822,47.70883096631093],"usda_category":{"code":"PH","name":"Pharmacy","source":"Community Health Center"},"has_pharmacy":true,"status":"open","is_potential_site":false,"pharmacy_hours_category":"limited_hours","pharmacy_hours":"M-F 8:30am-12pm, 1pm-5pm","hours":"8:30am-12pm, 1pm-5pm M-F","notes":"Community health center pharmacy with limited hours - weekdays only"},{"id":"LC023","name":"Lake City Farmers Market","address":"12501 28th Ave NE, Seattle, WA 98125","coordinates":[-122.29800162148858,47.720159835592455],"usda_category":{"code":"FM","name":"Farmers Market","source":"Community Market"},"has_pharmacy":false,"status":"open","is_potential_site":false,"notes":"Seasonal farmers market providing fresh produce and local goods"},{"id":"LC024","name":"Whole Foods Market","address":"1026 NE 64th St, Seattle, WA 98115","coordinates":[-122.31587527768852,47.67524665751115],"usda_category":{"code":"LG","name":"Large Grocery","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":false,"status":"open","is_potential_site":false,"closed_date":null,"hours":"Daily 7am-10pm","notes":"Natural and organic foods supermarket with extensive fresh produce selection"}]}'),b=JSON.parse('{"type":"FeatureCollection","features":[{"type":"Feature","properties":{"site_id":"LC021","name":"Seattle Indian Health Board - Lake City Clinic","radius_meters":800},"geometry":{"type":"Polygon","coordinates":[[[-122.29068498686783,47.732432866447986],[-122.29068498686783,47.732432866447986],[-122.29068498686783,47.732432866447986],[-122.29068498686783,47.732432866447986],[-122.29068498686783,47.732432866447986]]]}},{"type":"Feature","properties":{"site_id":"LC022","name":"Genoa Healthcare","radius_meters":800},"geometry":{"type":"Polygon","coordinates":[[[-122.29892513144739,47.71834103135863],[-122.29892513144739,47.71834103135863],[-122.29892513144739,47.71834103135863],[-122.29892513144739,47.71834103135863],[-122.29892513144739,47.71834103135863]]]}},{"type":"Feature","properties":{"site_id":"LC023","name":"Lake City Farmers Market","radius_meters":400},"geometry":{"type":"Polygon","coordinates":[[[-122.29800162148858,47.720159835592455],[-122.29800162148858,47.720159835592455],[-122.29800162148858,47.720159835592455],[-122.29800162148858,47.720159835592455],[-122.29800162148858,47.720159835592455]]]}}]}'),v=t(2679);function N(e){let{mapRef:a}=e,t=(0,v.Sx)();return(0,s.useEffect)(()=>{a.current=t},[t,a]),null}function S(e){let{onBoundsChange:a}=e;return(0,v.zV)({moveend:e=>{a(e.target.getBounds())},zoomend:e=>{a(e.target.getBounds())}}),null}function k(e){let{onResetLayers:a,onResetStore:t}=e,s=(0,v.Sx)();return(0,r.jsxs)("div",{className:"fixed top-28 md:top-40 left-4 z-[1001] flex flex-col gap-2 shadow-lg",children:[(0,r.jsx)("button",{onClick:()=>{s.zoomIn()},className:"bg-white hover:bg-gray-50 text-gray-700 hover:text-gray-900 w-12 h-12 flex items-center justify-center border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-evergreen focus:ring-offset-2 min-h-[48px] min-w-[48px] shadow-md transition-all hover:shadow-lg","aria-label":"Zoom in",children:(0,r.jsx)("span",{className:"text-2xl font-bold",children:"+"})}),(0,r.jsx)("button",{onClick:()=>{s.zoomOut()},className:"bg-white hover:bg-gray-50 text-gray-700 hover:text-gray-900 w-12 h-12 flex items-center justify-center border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-evergreen focus:ring-offset-2 min-h-[48px] min-w-[48px] shadow-md transition-all hover:shadow-lg","aria-label":"Zoom out",children:(0,r.jsx)("span",{className:"text-2xl font-bold",children:"−"})}),(0,r.jsx)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),s.setView(u.DEFAULT_CENTER,u.DEFAULT_ZOOM,{animate:!0}),setTimeout(()=>{s.invalidateSize()},100),a(y),t()},className:"bg-white hover:bg-gray-50 text-gray-700 hover:text-gray-900 w-12 h-12 flex items-center justify-center border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-evergreen focus:ring-offset-2 min-h-[48px] min-w-[48px] shadow-md transition-all hover:shadow-lg","aria-label":"Reset map view to default zoom and center",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})}function j(e){let{loading10Min:a,loadingRadius:t,walkabilityLoading:s,loadingPhase:i}=e;return s||a||t?(0,r.jsx)("div",{className:"absolute top-16 md:top-4 left-4 z-[1000] bg-white shadow-lg rounded-lg p-3 border",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:[a&&"Loading 10-min walkability...",t&&"Loading radius data...",s&&"walkability-15"===i&&"Loading 15-min walkability..."]})]})}):null}function w(e){let{basePath:a}=e;return(0,r.jsxs)("div",{className:"fixed bottom-20 md:bottom-6 right-4 md:right-6 z-[999] flex flex-col gap-3",children:[(0,r.jsxs)("a",{href:"".concat(a,"/petition/"),className:"bg-evergreen hover:bg-evergreen-dark text-white px-5 py-3.5 md:px-6 md:py-3 rounded-full shadow-2xl hover:shadow-3xl transition-all text-sm md:text-sm font-bold uppercase tracking-wide border-2 md:border-4 border-white/30 hover:border-white/50 transform hover:scale-105 active:scale-100 whitespace-nowrap text-center min-h-[52px] flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-evergreen focus:ring-offset-2",style:{boxShadow:"0 8px 25px rgba(0, 0, 0, 0.35), 0 0 0 2px rgba(255, 255, 255, 0.2)"},"aria-label":"Sign the Petition",children:[(0,r.jsx)("span",{className:"hidden md:inline",children:"SIGN PETITION"}),(0,r.jsx)("span",{className:"md:hidden",children:"PETITION"})]}),(0,r.jsxs)("a",{href:"".concat(a,"/solutions/"),className:"bg-white/95 hover:bg-white text-gray-800 hover:text-gray-900 px-5 py-3.5 md:px-6 md:py-3 rounded-full shadow-xl hover:shadow-2xl transition-all text-sm md:text-sm font-semibold uppercase tracking-wide border-2 border-gray-300 hover:border-gray-400 transform hover:scale-105 active:scale-100 whitespace-nowrap text-center backdrop-blur-sm min-h-[52px] flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2",style:{boxShadow:"0 5px 15px rgba(0, 0, 0, 0.2)"},"aria-label":"Vote on Solutions",children:[(0,r.jsx)("span",{className:"hidden md:inline",children:"VOTE ON SOLUTIONS"}),(0,r.jsx)("span",{className:"md:hidden",children:"SOLUTIONS"})]})]})}function C(){return(0,r.jsx)("div",{className:"p-3 bg-beige/50 rounded-lg border border-beige-dark",children:(0,r.jsx)("p",{className:"text-sm text-slate-dark leading-relaxed",children:"This map shows grocery stores, pharmacies, and walkable access areas in Lake City. Use it to understand where essential services are located and identify areas with limited or no walkable access. Yellow and red areas indicate reduced or recently lost access."})})}function L(){return(0,r.jsxs)("div",{className:"p-3 bg-white border-2 border-gray-200 rounded-lg",children:[(0,r.jsx)("p",{className:"text-base text-gray-900 mb-2 font-bold",children:"Walkability Areas"}),(0,r.jsx)("p",{className:"text-xs text-gray-700 mb-3 font-semibold",children:"Yellow & Red are access loss areas."}),(0,r.jsxs)("div",{className:"space-y-1.5 text-sm",role:"list","aria-label":"Walkability area legend",children:[(0,r.jsxs)("div",{className:"flex items-center",role:"listitem",children:[(0,r.jsx)("span",{className:"w-4 h-4 mr-2 flex-shrink-0 bg-white",style:{border:"3px solid rgba(255, 176, 0, 0.8)"},"aria-label":"Gold color for limited access"}),(0,r.jsx)("span",{children:"Limited access: reduced hours, barriers to access or seasonal availability."})]}),(0,r.jsxs)("div",{className:"flex items-center",role:"listitem",children:[(0,r.jsx)("span",{className:"w-4 h-4 mr-2 flex-shrink-0 bg-white",style:{border:"3px solid rgba(220, 38, 38, 0.8)"},"aria-label":"Red color for no access"}),(0,r.jsx)("span",{children:"No access: closed."})]}),(0,r.jsxs)("div",{className:"flex items-center",role:"listitem",children:[(0,r.jsx)("span",{className:"w-4 h-4 mr-2 flex-shrink-0 bg-white",style:{border:"3px solid rgba(16, 185, 129, 0.8)"},"aria-label":"Green color for full access"}),(0,r.jsx)("span",{children:"Full access."})]})]})]})}function A(e){let{visibleLayers:a,toggleLayer:t,basePath:s,variant:i="desktop"}=e,o="mobile"===i,l=o?"flex items-center text-sm py-2 min-h-[44px]":"flex items-center text-sm",n=o?"w-3 h-3":"w-2.5 h-2.5",c=o?"mr-3 w-5 h-5":"mr-2",d=o?"mr-2":"mr-1.5",u=o?"text-sm":"text-xs";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:o?"mb-6":"",children:[(0,r.jsx)("h3",{className:"font-semibold ".concat(o?"mb-4 text-base":"mb-2 text-slate-dark"),children:"Store Types"}),(0,r.jsxs)("div",{className:o?"space-y-3":"space-y-1.5",children:[(0,r.jsxs)("label",{className:l,children:[(0,r.jsx)("input",{type:"checkbox",checked:a.supermarkets,onChange:()=>t("supermarkets"),className:c,"aria-label":"Toggle Supermarkets (SM) visibility",tabIndex:0}),(0,r.jsx)("span",{className:"".concat(n," bg-green-600 rounded-full ").concat(d),"aria-hidden":"true"}),"Supermarkets (SM)"]}),(0,r.jsxs)("label",{className:o?l:"flex items-center ".concat(u),children:[(0,r.jsx)("input",{type:"checkbox",checked:a.large_groceries,onChange:()=>t("large_groceries"),className:c,"aria-label":"Toggle Large Groceries (LG) visibility",tabIndex:0}),(0,r.jsx)("span",{className:"".concat(n," bg-green-500 rounded-full ").concat(d),"aria-hidden":"true"}),"Large Groceries (LG)"]}),(0,r.jsxs)("label",{className:o?l:"flex items-center ".concat(u),children:[(0,r.jsx)("input",{type:"checkbox",checked:a.small_groceries,onChange:()=>t("small_groceries"),className:c,"aria-label":"Toggle Small Groceries (SG) visibility",tabIndex:0}),(0,r.jsx)("span",{className:"".concat(n," bg-lime-500 rounded-full ").concat(d),"aria-hidden":"true"}),"Small Groceries (SG)"]}),(0,r.jsxs)("label",{className:o?l:"flex items-center ".concat(u),children:[(0,r.jsx)("input",{type:"checkbox",checked:a.corner_stores,onChange:()=>t("corner_stores"),className:c,"aria-label":"Toggle Corner Stores (CS) visibility",tabIndex:0}),(0,r.jsx)("span",{className:"".concat(n," rounded-full ").concat(d),style:{backgroundColor:"#2dd4bf"},"aria-hidden":"true"}),"Corner Stores (CS)"]}),(0,r.jsxs)("label",{className:o?l:"flex items-center ".concat(u),children:[(0,r.jsx)("input",{type:"checkbox",checked:a.pharmacies_full_hours,onChange:()=>t("pharmacies_full_hours"),className:c,"aria-label":"Toggle Full Service Pharmacies".concat(o?" (PH)":""," visibility"),tabIndex:0}),(0,r.jsx)("span",{className:"".concat(n," bg-purple-600 rounded-full ").concat(d),"aria-hidden":"true"}),o?"Full Service Pharmacies (PH)":"Full Service Pharmacies"]}),(0,r.jsxs)("label",{className:o?l:"flex items-center ".concat(u),children:[(0,r.jsx)("input",{type:"checkbox",checked:a.pharmacies_limited_hours,onChange:()=>t("pharmacies_limited_hours"),className:c,"aria-label":"Toggle Limited Availability Pharmacies".concat(o?" (PH)":""," visibility"),tabIndex:0}),(0,r.jsx)("span",{className:"".concat(n," rounded-full ").concat(d),style:{backgroundColor:"#FFB000"},"aria-hidden":"true"}),o?"Limited Availability / Constrained Pharmacies (PH)":"Limited Availability / Constrained Pharmacies"]}),(0,r.jsxs)("label",{className:o?l:"flex items-center ".concat(u),children:[(0,r.jsx)("input",{type:"checkbox",checked:a.farmers_markets,onChange:()=>t("farmers_markets"),className:c,"aria-label":"Toggle Farmers Markets".concat(o?" (FM)":""," visibility"),tabIndex:0}),(0,r.jsx)("span",{className:"".concat(n," bg-green-400 rounded-full ").concat(d),"aria-hidden":"true"}),"Farmers Markets (FM)"]})]})]}),(0,r.jsxs)("div",{className:o?"mb-6":"",children:[(0,r.jsx)("h3",{className:"font-semibold ".concat(o?"mb-4 text-base":"mb-2 text-slate-dark"),children:o?"Closed Stores (2023-2025)":"Closed Stores"}),(0,r.jsxs)("div",{className:o?"space-y-3":"space-y-1.5",children:[(0,r.jsxs)("label",{className:o?l:"flex items-center text-sm",children:[(0,r.jsx)("input",{type:"checkbox",checked:a.closed_fred_meyer,onChange:()=>t("closed_fred_meyer"),className:c,"aria-label":"Toggle Fred Meyer".concat(o?" (Supermarket)":""," visibility"),tabIndex:0}),(0,r.jsx)("span",{className:"".concat(n," bg-red-600 rounded-full ").concat(d),"aria-hidden":"true"}),o?"Fred Meyer (Supermarket)":"Fred Meyer"]}),(0,r.jsxs)("label",{className:o?l:"flex items-center ".concat(u),children:[(0,r.jsx)("input",{type:"checkbox",checked:a.closed_bartell,onChange:()=>t("closed_bartell"),className:c,"aria-label":"Toggle Bartell Drugs".concat(o?" (Pharmacy)":""," visibility"),tabIndex:0}),(0,r.jsx)("span",{className:"".concat(n," bg-red-600 rounded-full ").concat(d),"aria-hidden":"true"}),o?"Bartell Drugs (Pharmacy)":"Bartell Drugs"]}),(0,r.jsxs)("label",{className:o?l:"flex items-center ".concat(u),children:[(0,r.jsx)("input",{type:"checkbox",checked:a.closed_walgreens,onChange:()=>t("closed_walgreens"),className:c,"aria-label":"Toggle Walgreens".concat(o?" (Pharmacy)":""," visibility"),tabIndex:0}),(0,r.jsx)("span",{className:"".concat(n," bg-red-600 rounded-full ").concat(d),"aria-hidden":"true"}),o?"Walgreens (Pharmacy)":"Walgreens"]})]})]}),(0,r.jsxs)("div",{className:o?"mb-6":"",children:[(0,r.jsx)("h3",{className:"font-semibold ".concat(o?"mb-4 text-base":"mb-2 text-slate-dark"),children:"Service Areas"}),(0,r.jsxs)("div",{className:o?"space-y-3":"space-y-1.5",children:[(0,r.jsxs)("label",{className:o?l:"flex items-center text-sm",children:[(0,r.jsx)("input",{type:"checkbox",checked:a.walking_10_min,onChange:()=>t("walking_10_min"),className:c,"aria-label":"Toggle 10-Minute Walk visibility",tabIndex:0}),!o&&(0,r.jsx)("span",{className:"".concat(n," border-2 border-green-500 border-dashed ").concat(d),"aria-hidden":"true"}),o?"10-Minute Walk":"10-Min Walk"]}),(0,r.jsxs)("label",{className:o?l:"flex items-center ".concat(u),children:[(0,r.jsx)("input",{type:"checkbox",checked:a.walking_15_min,onChange:()=>t("walking_15_min"),className:c,"aria-label":"Toggle 15-Minute Walk visibility",tabIndex:0}),!o&&(0,r.jsx)("span",{className:"".concat(n," border-2 border-green-500 border-dashed ").concat(d),"aria-hidden":"true"}),o?"15-Minute Walk":"15-Min Walk"]}),(0,r.jsxs)("label",{className:o?l:"flex items-center text-sm",children:[(0,r.jsx)("input",{type:"checkbox",checked:a.half_mile_radius,onChange:()=>t("half_mile_radius"),className:c,"aria-label":"Toggle 1/2 Mile Radius visibility",tabIndex:0}),(0,r.jsx)("span",{className:"".concat(n," border-2 border-green-500 border-dashed ").concat(d),"aria-hidden":"true"}),"1/2 Mile Radius"]}),(0,r.jsxs)("label",{className:o?l:"flex items-center ".concat(u),children:[(0,r.jsx)("input",{type:"checkbox",checked:a.one_mile_radius,onChange:()=>t("one_mile_radius"),className:c,"aria-label":"Toggle 1 Mile Radius visibility",tabIndex:0}),(0,r.jsx)("span",{className:"".concat(n," border-2 border-green-500 border-dashed ").concat(d),"aria-hidden":"true"}),"1 Mile Radius"]})]})]}),(0,r.jsxs)("div",{className:o?"mb-6":"",children:[(0,r.jsx)("h3",{className:"font-semibold ".concat(o?"mb-4 text-base":"mb-2 text-slate-dark"),children:o?"Potential Interim Pharmacy Sites":"Potential Sites"}),(0,r.jsxs)("div",{className:o?"space-y-3":"space-y-1.5",children:[(0,r.jsxs)("label",{className:o?l:"flex items-center text-sm",children:[(0,r.jsx)("input",{type:"checkbox",checked:a.potential_library,onChange:()=>t("potential_library"),className:c,"aria-label":"Toggle Lake City Library visibility",tabIndex:0}),(0,r.jsx)("span",{className:"".concat(n," bg-orange-500 rounded-full ").concat(d),"aria-hidden":"true"}),"Lake City Library"]}),(0,r.jsxs)("label",{className:o?l:"flex items-center ".concat(u),children:[(0,r.jsx)("input",{type:"checkbox",checked:a.potential_neighborcare,onChange:()=>t("potential_neighborcare"),className:c,"aria-label":"Toggle Neighborcare Health Center visibility",tabIndex:0}),(0,r.jsx)("span",{className:"".concat(n," bg-orange-500 rounded-full ").concat(d),"aria-hidden":"true"}),o?"Neighborcare Health Center":"Neighborcare Health"]}),(0,r.jsxs)("label",{className:o?l:"flex items-center ".concat(u),children:[(0,r.jsx)("input",{type:"checkbox",checked:a.potential_health_dental,onChange:()=>t("potential_health_dental"),className:c,"aria-label":"Toggle North Seattle Public Health Dental visibility",tabIndex:0}),(0,r.jsx)("span",{className:"".concat(n," bg-orange-500 rounded-full ").concat(d),"aria-hidden":"true"}),o?"North Seattle Public Health Dental":"Public Health Dental"]}),(0,r.jsxs)("label",{className:o?l:"flex items-center ".concat(u),children:[(0,r.jsx)("input",{type:"checkbox",checked:a.potential_bartell,onChange:()=>t("potential_bartell"),className:c,"aria-label":"Toggle Former Bartell Drugs Building visibility",tabIndex:0}),(0,r.jsx)("span",{className:"".concat(n," bg-orange-500 rounded-full ").concat(d),"aria-hidden":"true"}),o?"Former Bartell Drugs Building":"Former Bartell"]}),(0,r.jsxs)("label",{className:o?l:"flex items-center ".concat(u),children:[(0,r.jsx)("input",{type:"checkbox",checked:a.potential_bank,onChange:()=>t("potential_bank"),className:c,"aria-label":"Toggle Former Bank Site visibility",tabIndex:0}),(0,r.jsx)("span",{className:"".concat(n," bg-orange-500 rounded-full ").concat(d),"aria-hidden":"true"}),o?"Former Bank Site":"Former Bank"]})]})]})]})}function E(e){let{visibleLayers:a,toggleLayer:t,basePath:s,onClose:i}=e;return(0,r.jsxs)("div",{className:"md:hidden fixed inset-x-0 bottom-0 bg-white shadow-2xl z-[1002] max-h-[75vh] flex flex-col rounded-t-3xl border-t-4 border-evergreen",style:{boxShadow:"0 -4px 30px rgba(0,0,0,0.3)"},children:[(0,r.jsxs)("div",{className:"sticky top-0 bg-white border-b-2 border-beige p-4 z-10 rounded-t-3xl",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-slate-dark",children:"Resource Access Key"}),(0,r.jsx)("button",{onClick:i,className:"text-gray-500 hover:text-gray-700 text-lg font-semibold min-h-[44px] min-w-[44px] flex items-center justify-center","aria-label":"Close map key",children:(0,r.jsx)("span",{"aria-hidden":"true",children:"✕"})})]}),(0,r.jsx)("div",{className:"mt-3 mb-4",children:(0,r.jsx)(C,{})}),(0,r.jsx)(L,{})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 pb-4",style:{WebkitOverflowScrolling:"touch"},children:[(0,r.jsx)(A,{visibleLayers:a,toggleLayer:t,basePath:s,variant:"mobile"}),(0,r.jsx)("div",{className:"mt-4 pt-4 pb-4 border-t border-gray-200 px-4",children:(0,r.jsx)("a",{href:"".concat(s,"/about/"),className:"bg-gray-100 active:bg-gray-200 text-gray-800 px-6 py-4 rounded-lg shadow-md active:shadow-lg transition-all text-xs font-semibold uppercase tracking-wide text-center block border-2 border-gray-300 min-h-[48px] flex items-center justify-center w-full focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2","aria-label":"Learn about categories and methodology",children:"about categories and methodology"})})]})]})}function M(e){let{basePath:a}=e;return(0,r.jsx)("div",{className:"mt-4 pt-4 border-t-2 border-beige",children:(0,r.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-1 gap-4 text-sm md:text-base",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"w-3 h-3 bg-green-600 rounded-full inline-block mt-1 flex-shrink-0"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{className:"text-slate-dark",children:"SM (Supermarket):"})," Full-service supermarket with butcher, bakery, pharmacy"]})]}),(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"w-3 h-3 bg-green-500 rounded-full inline-block mt-1 flex-shrink-0"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{className:"text-slate-dark",children:"LG (Large Grocery):"})," Large grocery store with good fresh food selection"]})]}),(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"w-3 h-3 bg-lime-500 rounded-full inline-block mt-1 flex-shrink-0"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{className:"text-slate-dark",children:"SG (Small Grocery):"})," Small independent grocer with limited selection"]})]}),(0,r.jsxs)("div",{className:"ml-5 text-xs text-slate italic",children:[(0,r.jsx)("strong",{children:"Note:"})," Grocery Outlet's business model places it in the Small Grocery (SG) category. Despite its physical size, its closeout sourcing and variable fresh food selection mean it doesn't function as a full Large Grocery (LG) anchor store."]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"w-3 h-3 rounded-full inline-block mt-1 flex-shrink-0",style:{backgroundColor:"#2dd4bf"},"aria-hidden":"true"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{className:"text-slate-dark",children:"CS (Corner Store):"})," Convenience store with limited fresh food"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{className:"text-slate-dark",children:"PH (Pharmacy):"})," Pharmacy with prescription services"]}),(0,r.jsxs)("div",{className:"ml-5 space-y-1 text-xs text-slate",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-2 h-2 bg-purple-600 rounded-full inline-block"}),(0,r.jsx)("strong",{children:"Full Service:"})," Day, Evening & Weekend service"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-2 h-2 rounded-full inline-block",style:{backgroundColor:"#FFB000"}}),(0,r.jsx)("strong",{children:"Limited Availability / Constrained:"})," This pharmacy exists but has meaningful barriers — limited hours, limited network support, limited services. (Weekdays Only: Mon–Fri Day service)"]}),(0,r.jsx)("div",{className:"ml-4 text-xs text-slate/70 italic",children:"Monday-Friday: 8am-5pm"})]}),(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"w-3 h-3 bg-green-400 rounded-full inline-block mt-1 flex-shrink-0"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{className:"text-slate-dark",children:"FM (Farmers Market):"})," Seasonal market with fresh local produce"]})]}),(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("span",{className:"w-3 h-3 bg-red-600 rounded-full inline-block mt-1 flex-shrink-0"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{className:"text-slate-dark",children:"Closed:"})," Recently closed grocery and pharmacy locations"]})]}),(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-1 mt-2 flex-shrink-0",style:{borderTop:"4px dashed #ec4899"},"aria-hidden":"true"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{className:"text-slate-dark",children:"Lake City Boundary:"})," Analysis area for Olympic Hills/Victory Heights and Cedar Park/Meadowbrook"]})]})]}),(0,r.jsxs)("div",{className:"space-y-3 text-sm md:text-base text-slate",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{className:"text-slate-dark",children:"Grocery Store Categories"})," based on"," ",(0,r.jsx)("a",{href:"https://www.fns.usda.gov/snap/store-definitions#:~:text=Establishments%20commonly%20known%20as%20supermarkets,products%20in%20warehouse%2Dtype%20environment.",target:"_blank",rel:"noopener noreferrer",className:"text-evergreen underline hover:no-underline focus:outline-none focus:ring-2 focus:ring-evergreen focus:ring-offset-1",children:"USDA SNAP Retailer Store Type Definitions (2025)"})]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{className:"text-slate-dark",children:"Radius"})," is distance and"," ",(0,r.jsx)("strong",{className:"text-slate-dark",children:"walk"})," is based on walk times from our API mapper. Walkability access map generated using"," ",(0,r.jsx)("a",{href:"https://radiusmapper.com/walking",target:"_blank",rel:"noopener noreferrer",className:"text-evergreen underline hover:no-underline focus:outline-none focus:ring-2 focus:ring-evergreen focus:ring-offset-1",children:"RadiusMapper API with walking routes"}),". Walkability areas are simplified for smooth map interaction while maintaining accuracy."]})]})]})})}function F(e){let{visibleLayers:a,toggleLayer:t,basePath:s}=e;return(0,r.jsx)("div",{className:"hidden md:block lg:w-[450px] xl:w-[500px] lg:h-screen lg:overflow-y-auto bg-beige border-t-2 lg:border-t-0 lg:border-l-2 border-beige-dark flex-shrink-0",children:(0,r.jsx)("div",{className:"max-w-6xl mx-auto px-6 py-3 lg:max-w-none lg:px-4 lg:py-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border-2 border-beige p-4 md:p-6 lg:rounded-none lg:shadow-none lg:border-0 lg:p-4",children:[(0,r.jsx)("h2",{className:"text-lg md:text-xl font-bold text-slate-dark mb-4 uppercase tracking-wide text-center lg:text-left",children:"Resource Access Key"}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(C,{})}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(L,{})}),(0,r.jsx)("div",{className:"lg:max-h-[calc(100vh-200px)] lg:overflow-y-auto",children:(0,r.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-1 gap-4 text-base",children:(0,r.jsx)(A,{visibleLayers:a,toggleLayer:t,basePath:s,variant:"desktop"})})}),(0,r.jsx)(M,{basePath:s})]})})})}var P=t(1726);let R=[[47.6977,-122.3124],[47.7213,-122.3124],[47.7213,-122.3245],[47.7342,-122.3245],[47.7342,-122.2838356054288],[47.73313452983473,-122.28395312523651],[47.733078029927185,-122.28366836480313],[47.73287011026741,-122.28343558518407],[47.73277519042273,-122.28330450539858],[47.73277067043017,-122.28319828467306],[47.73274806956783,-122.28333388535049],[47.73261472978601,-122.28299262500963],[47.732409070122515,-122.28286832521303],[47.732316410274166,-122.28258130478338],[47.73225539037401,-122.28268300461696],[47.73216724961895,-122.28238468510511],[47.7319819299222,-122.28212026463848],[47.73187119010339,-122.2820547247457],[47.73173107033267,-122.28200952481967],[47.73160931022153,-122.2817148826357],[47.731595137805414,-122.28158497466683],[47.731474678113955,-122.28146687659506],[47.73133059772897,-122.2813794840759],[47.73107786844895,-122.28132043459033],[47.73096449361657,-122.28142918690742],[47.7308534813032,-122.2815047704288],[47.73069995443939,-122.2815307518427],[47.73063145667646,-122.28160397194574],[47.730520444363094,-122.28162523012026],[47.730369279118975,-122.28168664122546],[47.73008584338703,-122.28172443343584],[47.72988507603549,-122.281849617266],[47.72984255968646,-122.28199605927068],[47.72972446161464,-122.28205038371823],[47.72962998423645,-122.28210943320374],[47.72954259081797,-122.28205747037595],[47.7294575599185,-122.28186615130181],[47.729330013569324,-122.2818401689886],[47.72920246811947,-122.28174096567301],[47.72897099521532,-122.28158271467049],[47.72885998290195,-122.2815047704288],[47.72852930758154,-122.28136069004375],[47.728274215782506,-122.28133234611084],[47.72810179236387,-122.2812402303523],[47.7276766387659,-122.28098986179265],[47.727504215347324,-122.28094734634294],[47.72738139313685,-122.28086231544347],[47.727149920232705,-122.2806969777833],[47.72705308033545,-122.28064737657513],[47.726916085708865,-122.28057415557276],[47.72681452077359,-122.28048676305366],[47.72666571804848,-122.28039936963518],[47.72654998069709,-122.28033087277151],[47.726417711108525,-122.28030016811823],[47.726316147072566,-122.28031433963503],[47.72616261930949,-122.28029780559922],[47.72605869275452,-122.28018207004646],[47.725950042060845,-122.28013955369744],[47.72585083964458,-122.28011829732151],[47.72572329419472,-122.2801088490441],[47.725621729259444,-122.28009940076669],[47.72550599280737,-122.28014191621645],[47.72525562514704,-122.28004743793889],[47.725248539388645,-122.28015136359454],[47.72515878435047,-122.28023875701297],[47.72506430517359,-122.28030489225694],[47.72495093124053,-122.28029308235983],[47.72485172882426,-122.28027418580501],[47.72471709671669,-122.28029071984082],[47.72458010298942,-122.28032614863281],[47.72444547088185,-122.28037102660159],[47.72359516278658,-122.28067808212774],[47.723217248777075,-122.28079145696012],[47.723056635255546,-122.28082924827117],[47.723047186978135,-122.28124967773039],[47.722898383353765,-122.28129455479984],[47.72289366011438,-122.28087648696027],[47.722534640861056,-122.28096388037875],[47.722270100784556,-122.28097569027585],[47.721887461737026,-122.28096388037875],[47.72173393487327,-122.28095443210134],[47.721559148935626,-122.28091900330935],[47.72106077523466,-122.28081743837407],[47.72096393443809,-122.2807276833359],[47.72086000788312,-122.28079145696012],[47.72068994608418,-122.2807064260607],[47.720595467806675,-122.2807583888885],[47.72048193469357,-122.28061420957806],[47.720320803162565,-122.280598864446],[47.72023128644474,-122.28054259476488],[47.72013153724072,-122.28051446127336],[47.71984252301405,-122.27993898959267],[47.719814388623206,-122.27980087710876],[47.71976323608453,-122.2801077950387],[47.71972231333416,-122.27998758535875],[47.719658372436015,-122.2797676273741],[47.71961233434183,-122.27929190399811],[47.71954327809988,-122.27952209267039],[47.71951258603707,-122.27922029008431],[47.719443528895795,-122.27912565712336],[47.71935401217797,-122.2790361386069],[47.71912382260638,-122.27885966194378],[47.718944788271415,-122.27876502898289],[47.71885015531046,-122.27871387644421],[47.71874273309072,-122.27867551136575],[47.71856114018453,-122.27863203094341],[47.71819795437216,-122.27850926359162],[47.717658290098086,-122.2783788232241],[47.717366717300195,-122.27828930560696],[47.717136528627975,-122.2782151340212],[47.71678101583126,-122.27808213598178],[47.71667103683893,-122.27805144391897],[47.71640759933132,-122.27799261836464],[47.71625413991666,-122.27790054307559],[47.71611346886158,-122.27783660217739],[47.71554908402305,-122.27768093312852],[47.715491959986025,-122.27759873959013],[47.71545615257941,-122.27774964133283],[47.715353846602795,-122.27755014472336],[47.7149804301028,-122.27735832112961],[47.71495741105571,-122.27746062710622],[47.7148857971419,-122.27731995605109],[47.71453284111777,-122.27719974727052],[47.714356362656076,-122.2771639398639],[47.714244948345765,-122.27719589007825],[47.71390283095093,-122.27705533143836],[47.713414850714855,-122.27688294579127],[47.712926871378045,-122.27669465023786],[47.712605971688276,-122.27660447971294],[47.7124176752356,-122.27652756969155],[47.712242639286444,-122.27645596387163],[47.71206760243797,-122.27643209496517],[47.7120596461358,-122.27653817809443],[47.71194825970446,-122.27655143769869],[47.71177322285598,-122.27652756969155],[47.711606143208996,-122.27653287389296],[47.711481496274075,-122.27648778908019],[47.71133298133208,-122.27638170595094],[47.71115794358428,-122.2763949655552],[47.71092986741951,-122.27635253284308],[47.71073891796675,-122.27635253284308],[47.710521449305475,-122.27625705901602],[47.710274806637074,-122.27614036838327],[47.697701368023786,-122.27265290270924],[47.6977,-122.3124]];function T(){return(0,r.jsx)(P.m,{positions:R,pathOptions:{color:"#ec4899",weight:4,opacity:1,fillColor:"transparent",fillOpacity:0,dashArray:"10, 5",interactive:!1}})}var W=t(2969),D=t(6782);function O(e){let{visibleFeatures:a,visibleLayers:t,checkPointInLakeCity:s,checkPolygonIntersectsViewport:i}=e;if(!t.half_mile_radius&&!t.one_mile_radius)return null;let o=a.filter(e=>"open"===e.properties.status||"potential"===e.properties.status||"closed"===e.properties.status).map(e=>{var a,r;let[o,l]=e.properties.coordinates,n=e.properties.service_areas,c=s(l,o),d=null==n?void 0:null===(a=n.radius)||void 0===a?void 0:a.half_mile,u=null==n?void 0:null===(r=n.radius)||void 0===r?void 0:r.one_mile,m=!!d&&i(d),p=!!u&&i(u);return{feature:e,inLakeCity:c,priority:c?1:2,shouldRenderHalf:t.half_mile_radius&&(m||c),shouldRenderOne:t.one_mile_radius&&(p||c)}}).filter(e=>e.shouldRenderHalf||e.shouldRenderOne).sort((e,a)=>e.priority-a.priority);return(0,r.jsx)(r.Fragment,{children:o.map((e,a)=>{var s,i,o;let{feature:l}=e,n=l.properties.service_areas,[c,d]=l.properties.coordinates,u="closed"===l.properties.status,m="limited_hours"===l.properties.pharmacy_hours_category,h=(null===(s=l.properties.usda_category)||void 0===s?void 0:s.code)==="FM",y=u?p.CLOSED:m||h?p.LIMITED:p.FULL;return(0,r.jsxs)("div",{children:[t.half_mile_radius&&((null==n?void 0:null===(i=n.radius)||void 0===i?void 0:i.half_mile)&&n.radius.half_mile.geometry.coordinates[0].length>4?(0,r.jsx)(P.m,{positions:f(n.radius.half_mile.geometry.coordinates[0]).map(e=>[e[1],e[0]]),pathOptions:{color:y,weight:3,opacity:.8,fillColor:y,fillOpacity:.2,dashArray:"5, 5",interactive:!1},children:(0,r.jsxs)(W.u,{direction:"center",opacity:.9,className:"polygon-tooltip",children:[l.properties.name," - 1/2 Mile Radius"]})}):(0,r.jsx)(D.C,{center:[d,c],radius:g.HALF_MILE,pathOptions:{color:y,weight:3,opacity:.8,fillColor:y,fillOpacity:.2,dashArray:"5, 5",interactive:!1},children:(0,r.jsxs)(W.u,{direction:"center",opacity:.9,className:"polygon-tooltip",children:[l.properties.name," - 1/2 Mile Radius"]})})),t.one_mile_radius&&((null==n?void 0:null===(o=n.radius)||void 0===o?void 0:o.one_mile)&&n.radius.one_mile.geometry.coordinates[0].length>4?(0,r.jsx)(P.m,{positions:f(n.radius.one_mile.geometry.coordinates[0]).map(e=>[e[1],e[0]]),pathOptions:{color:y,weight:3,opacity:.8,fillColor:y,fillOpacity:.15,dashArray:"10, 5",interactive:!1},children:(0,r.jsxs)(W.u,{direction:"center",opacity:.9,className:"polygon-tooltip",children:[l.properties.name," - 1 Mile Radius"]})}):(0,r.jsx)(D.C,{center:[d,c],radius:g.ONE_MILE,pathOptions:{color:y,weight:3,opacity:.8,fillColor:y,fillOpacity:.15,dashArray:"10, 5",interactive:!1},children:(0,r.jsxs)(W.u,{direction:"center",opacity:.9,className:"polygon-tooltip",children:[l.properties.name," - 1 Mile Radius"]})}))]},"radius-".concat(a))})})}function I(e){let{visibleFeatures:a,visibleLayers:t,checkPointInLakeCity:s,checkPolygonIntersectsViewport:i}=e;if(!t.walking_10_min&&!t.walking_15_min)return null;let o=a.filter(e=>"open"===e.properties.status||"potential"===e.properties.status||"closed"===e.properties.status).map(e=>{var a;let[r,o]=e.properties.coordinates,l=null===(a=e.properties.service_areas)||void 0===a?void 0:a.walking,n=s(o,r),c=null==l?void 0:l["10_min"],d=null==l?void 0:l["15_min"],u=!!c&&i(c),m=!!d&&i(d);return{feature:e,inLakeCity:n,priority:n?1:2,shouldRender10:t.walking_10_min&&(u||n),shouldRender15:t.walking_15_min&&(m||n)}}).filter(e=>e.shouldRender10||e.shouldRender15).sort((e,a)=>e.priority-a.priority);return(0,r.jsx)(r.Fragment,{children:o.map((e,a)=>{var s,i;let{feature:o}=e,l=null===(s=o.properties.service_areas)||void 0===s?void 0:s.walking,[n,c]=o.properties.coordinates,d="closed"===o.properties.status,u="limited_hours"===o.properties.pharmacy_hours_category,m=(null===(i=o.properties.usda_category)||void 0===i?void 0:i.code)==="FM",h=d?p.CLOSED:u||m?p.LIMITED:p.FULL;return(0,r.jsxs)("div",{children:[t.walking_10_min&&((null==l?void 0:l["10_min"])&&l["10_min"].geometry.coordinates[0].length>4?(0,r.jsx)(P.m,{positions:l["10_min"].geometry.coordinates[0].map(e=>[e[1],e[0]]),pathOptions:{color:h,weight:3,opacity:.8,fillColor:h,fillOpacity:.2,interactive:!1},children:(0,r.jsxs)(W.u,{direction:"center",opacity:.9,className:"polygon-tooltip",children:[o.properties.name," - 10-min walk"," ",d?"(Closed)":u||m?"(Limited Availability)":""]})}):(0,r.jsx)(D.C,{center:[c,n],radius:g.TEN_MIN_WALK,pathOptions:{color:h,weight:3,opacity:.8,fillColor:h,fillOpacity:.2,interactive:!1},children:(0,r.jsxs)(W.u,{direction:"center",opacity:.9,className:"polygon-tooltip",children:[o.properties.name," - 10-min walk"," ",d?"(Closed)":u||m?"(Limited Availability)":""]})})),t.walking_15_min&&((null==l?void 0:l["15_min"])&&l["15_min"].geometry.coordinates[0].length>4?(0,r.jsx)(P.m,{positions:l["15_min"].geometry.coordinates[0].map(e=>[e[1],e[0]]),pathOptions:{color:h,weight:3,opacity:.8,fillColor:h,fillOpacity:.2,interactive:!1},children:(0,r.jsxs)(W.u,{direction:"center",opacity:.9,className:"polygon-tooltip",children:[o.properties.name," - 15-min walk"," ",d?"(Closed)":u||m?"(Limited Availability)":""]})}):(0,r.jsx)(D.C,{center:[c,n],radius:g.FIFTEEN_MIN_WALK,pathOptions:{color:h,weight:3,opacity:.8,fillColor:h,fillOpacity:.2,interactive:!1},children:(0,r.jsxs)(W.u,{direction:"center",opacity:.9,className:"polygon-tooltip",children:[o.properties.name," - 15-min walk"," ",d?"(Closed)":u||m?"(Limited Availability)":""]})}))]},"walking-".concat(o.properties.name,"-").concat(a))})})}var G=t(8369),H=t(4949),U=t(6360);function B(e,a,t){let r="closed"===e?h.CLOSED:h.DEFAULT;return a&&(null==t?void 0:t.code)==="SM"&&(r+=h.HYBRID_BONUS),r}function z(e,a){if(!(null==e?void 0:e.code))return"Unknown";switch(e.code){case"SM":return a?"Supermarket (in-store pharmacy)":"Supermarket";case"LG":return"Large Grocery";case"SG":return"Small Grocery";case"CS":return"Corner Store";case"PH":return"Pharmacy";case"FM":return"Farmers Market";default:return"Unknown"}}function Y(e){let{name:a,address:t,usda_category:r,status:s,notes:i,fas_score:o,has_pharmacy:l,hours:n,pharmacy_hours_category:c}=e.properties,d=z(r,l),u="\n    <div>\n      <strong>".concat(a,"</strong><br/>\n      <strong>Category:</strong> ").concat(d,"<br/>\n      <strong>Status:</strong> ").concat(s,"<br/>\n      <strong>Address:</strong> ").concat(t,"<br/>\n  ");return n&&(u+="<strong>Hours:</strong> ".concat(n,"<br/>")),c&&(u+="<strong>Pharmacy Hours:</strong> ".concat("full_hours"===c?"Full Service - Day, Evening & Weekend service":"Weekdays Only - Mon–Fri Day service","<br/>")),a.toLowerCase().includes("indian health")&&l&&"open"===s&&(u+='<strong style="color: #d97706;">Note:</strong> <span style="color: #d97706;">Clinic enrollment required for new patients</span><br/>'),(null==r?void 0:r.source)&&(u+="<strong>Source:</strong> ".concat(r.source,"<br/>")),i&&(u+="<strong>Notes:</strong> ".concat(i,"<br/>")),l&&(null==r?void 0:r.code)==="SM"&&(u+="<strong>Services:</strong> Grocery + Pharmacy<br/>"),(null==o?void 0:o.overall_score)&&(u+="<strong>Fresh Access Score:</strong> ".concat(o.overall_score,"/10<br/>")),(null==o?void 0:o.last_audit)&&(u+="<strong>Last Audit:</strong> ".concat(o.last_audit)),u+="</div>"}function V(e){let{name:a,usda_category:t,has_pharmacy:r,status:s,pharmacy_hours_category:i}=e.properties,o=z(t,r),l=e.properties.pharmacy_hours,n="<strong>".concat(a,"</strong><br/>");if(n+="<em>".concat(o,"</em><br/>"),r&&l&&"open"===s){let e="";"full_hours"===i?e="Full Service: Day, Evening & Weekend service":"limited_hours"===i&&(e="Weekdays Only: Mon–Fri Day service"),n+='<small style="color: #666;"><strong>Pharmacy Hours:</strong><br/>'.concat(e,"<br/>").concat(l,"</small>"),a.toLowerCase().includes("indian health")&&(n+='<br/><small style="color: #d97706;"><strong>Note:</strong> Clinic enrollment required for new patients</small>')}else r&&"closed"===s&&(n+='<small style="color: #999;">Closed</small>');return n}function Z(e){let{visibleFeatures:a,visibleLayers:t,selectedStore:s,onStoreSelect:i}=e;return(0,r.jsx)(r.Fragment,{children:a.map((e,a)=>{let[l,n]=e.properties.coordinates,{name:c,usda_category:d,has_pharmacy:u,status:p}=e.properties;if(((null==d?void 0:d.code)==="SM"||c.toLowerCase().includes("target"))&&u&&"open"===p&&(t.supermarkets||t.large_groceries)&&(t.pharmacies_full_hours||t.pharmacies_limited_hours)){let t=function(e,a,t){let{pharmacy_hours_category:r}=e.properties,s=m.SUPERMARKET,i="limited_hours"===r?m.PHARMACY_LIMITED:m.PHARMACY_FULL,l=o().divIcon({html:'\n      <svg width="'.concat(2*t,'" height="').concat(2*t,'" viewBox="0 0 ').concat(2*t," ").concat(2*t,'">\n        <!-- Left half circle (grocery) -->\n        <path d="M ').concat(t," 0 A ").concat(t," ").concat(t," 0 0 0 ").concat(t," ").concat(2*t," L ").concat(t," ").concat(t,' Z" \n              fill="').concat(s,'" />\n        <!-- Right half circle (pharmacy) -->\n        <path d="M ').concat(t," 0 A ").concat(t," ").concat(t," 0 0 1 ").concat(t," ").concat(2*t," L ").concat(t," ").concat(t,' Z" \n              fill="').concat(i,'" />\n      </svg>\n    '),className:"split-circle-marker",iconSize:[2*t,2*t],iconAnchor:[t,t]});return o().marker(a,{icon:l})}(e,[n,l],B(p,u,d)),c=V(e);return(0,r.jsxs)(G.J,{position:[n,l],icon:t.options.icon,eventHandlers:{click:a=>{a.originalEvent.stopPropagation(),s===e.properties.id?i(null):i(e.properties.id)},add:e=>{e.target&&"function"==typeof e.target.bringToFront&&e.target.bringToFront()}},children:[(0,r.jsx)(W.u,{direction:"top",offset:[0,-10],opacity:1,permanent:!1,interactive:!1,className:"store-tooltip",children:(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:c}})}),s===e.properties.id&&(0,r.jsx)(H.G,{closeButton:!1,autoPan:!0,className:"store-popup",children:(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:Y(e)}})})]},"marker-".concat(a))}{let t=function(e){let{usda_category:a,status:t,pharmacy_hours_category:r}=e.properties;if("closed"===t)return m.CLOSED;if("potential"===t)return m.POTENTIAL;if(null==a?void 0:a.code)switch(a.code){case"SM":return m.SUPERMARKET;case"LG":return m.LARGE_GROCERY;case"SG":return m.SMALL_GROCERY;case"CS":return m.CORNER_STORE;case"PH":return"limited_hours"===r?m.PHARMACY_LIMITED:m.PHARMACY_FULL;case"FM":return m.FARMERS_MARKET}return m.DEFAULT}(e),o=B(p,u,d),c=s===e.properties.id,{pharmacy_hours_category:h}=e.properties,y=V(e),g="closed"===p?1e3:"limited_hours"===h||(null==d?void 0:d.code)==="FM"?900:800;return(0,r.jsxs)(U.c,{center:[n,l],radius:o,pathOptions:{color:t,fillColor:t,fillOpacity:1,weight:c?4:2,opacity:1,interactive:!0},eventHandlers:{mouseover:e=>{e.target.setStyle({weight:3,opacity:1,zIndex:2e3}),e.target.bringToFront()},mouseout:e=>{e.target.setStyle({weight:c?4:2,opacity:1,zIndex:g})},click:a=>{a.originalEvent.stopPropagation(),s===e.properties.id?i(null):i(e.properties.id)},add:e=>{e.target&&"function"==typeof e.target.setStyle&&e.target.setStyle({zIndex:g}),e.target&&"function"==typeof e.target.bringToFront&&e.target.bringToFront()}},children:[(0,r.jsx)(W.u,{direction:"top",offset:[0,-10],opacity:1,permanent:!1,interactive:!1,className:"store-tooltip",children:(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:y}})}),c&&(0,r.jsx)(H.G,{closeButton:!1,autoPan:!0,className:"store-popup",children:(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:Y(e)}})})]},"marker-".concat(a))}})})}function K(){var e,a,t,i;let o=(0,c.b)(),m=(0,s.useRef)(null),[p,h]=(0,s.useState)(0),[g,f]=(0,s.useState)(null),[v,C]=(0,s.useState)(null),[L,A]=(0,s.useState)(null),[M,P]=(0,s.useState)(!1),{data:R,setData:W,loading:D,error:G,walkabilityLoading:H,setWalkabilityLoading:U,loading10Min:B,setLoading10Min:z,loadingRadius:Y,setLoadingRadius:V,loadingPhase:K,setLoadingPhase:X,loadedLayers:Q,setLoadedLayers:J,staticData:q,loadData:$}=function(){let[e,a]=(0,s.useState)(null),[t,r]=(0,s.useState)(!0),[i,o]=(0,s.useState)(null),[l,n]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1),[m,p]=(0,s.useState)(!1),[h,y]=(0,s.useState)("stores"),[g,f]=(0,s.useState)({walking_10_min:!1,walking_15_min:!1,half_mile_radius:!1,one_mile_radius:!1}),v=(0,s.useMemo)(()=>({coordinates:x,siteDetails:_,radiusPolygons:b.features||b}),[]),N=(0,s.useCallback)((e,t,s)=>{a({type:"FeatureCollection",features:e.features.map(e=>{var a,r,i,o,l;let n=t.sites.find(a=>a.id===e.properties.id);return s.filter(a=>a.properties.site_id===e.properties.id),{type:"Feature",properties:{...e.properties,...n,id:e.properties.id,name:e.properties.name||(null==n?void 0:n.name)||"",address:e.properties.address||(null==n?void 0:n.address)||"",coordinates:e.properties.coordinates||e.geometry.coordinates,status:(null==n?void 0:n.status)||"unknown",services:{grocery:(null==n?void 0:null===(a=n.usda_category)||void 0===a?void 0:a.code)==="SM"||(null==n?void 0:null===(r=n.usda_category)||void 0===r?void 0:r.code)==="LG"||(null==n?void 0:null===(i=n.usda_category)||void 0===i?void 0:i.code)==="SG"||(null==n?void 0:null===(o=n.usda_category)||void 0===o?void 0:o.code)==="CS",pharmacy:(null==n?void 0:n.has_pharmacy)||!1,farmers_market:(null==n?void 0:null===(l=n.usda_category)||void 0===l?void 0:l.code)==="FM",potential_site:(null==n?void 0:n.is_potential_site)||!1},service_areas:{walking:{"10_min":null,"15_min":null},radius:{half_mile:null,one_mile:null}}},geometry:{type:"Point",coordinates:e.geometry.coordinates}}})}),r(!1),y("stores")},[]),S=(0,s.useCallback)(async()=>{try{let{coordinates:e,siteDetails:a,radiusPolygons:t}=v;N(e,a,t)}catch(e){(0,d.H)(e,"Failed to load Lake City data"),o(e instanceof Error?e.message:"Failed to load Lake City data"),r(!1)}},[v,N]);return{data:e,setData:a,loading:t,error:i,walkabilityLoading:l,setWalkabilityLoading:n,loading10Min:c,setLoading10Min:u,loadingRadius:m,setLoadingRadius:p,loadingPhase:h,setLoadingPhase:y,loadedLayers:g,setLoadedLayers:f,staticData:v,loadData:S}}(),{loadWalkability10Min:ee,loadWalkability15Min:ea}=function(e){let{basePath:a,data:t,setData:r,loadedLayers:i,setLoadedLayers:o,setLoading10Min:l,setWalkabilityLoading:n,setLoadingPhase:c}=e;return{loadWalkability10Min:(0,s.useCallback)(async()=>{if(!i.walking_10_min){l(!0),c("walkability-10");try{let e=await fetch("".concat(a,"/data/lakecity_walkability_polygons.json"));if(!e.ok)throw Error("Failed to load walkability data: ".concat(e.status));let t=await e.json(),s=t.features||t;r(e=>{if(!e)return e;let a=e.features.map(e=>{var a,t,r;let i=s.filter(a=>a.properties.site_id===e.properties.id&&"10_min"===a.properties.walkability_type)[0]||null;return{...e,properties:{...e.properties,service_areas:{walking:{"10_min":i,"15_min":(null===(t=e.properties.service_areas)||void 0===t?void 0:null===(a=t.walking)||void 0===a?void 0:a["15_min"])||null},radius:(null===(r=e.properties.service_areas)||void 0===r?void 0:r.radius)||{half_mile:null,one_mile:null}}}}});return{...e,features:a}}),l(!1),o(e=>({...e,walking_10_min:!0}))}catch(e){(0,d.H)(e,"10-min walkability data failed to load",d.wE.WARN),l(!1)}}},[a,i.walking_10_min,r,l,o,c]),loadWalkability15Min:(0,s.useCallback)(async()=>{n(!0),c("walkability-15");try{let e=await fetch("".concat(a,"/data/lakecity_walkability_polygons.json"));if(!e.ok)throw Error("Failed to load walkability data: ".concat(e.status));let t=await e.json(),s=t.features||t;r(e=>{if(!e)return e;let a=e.features.map(e=>{var a,t,r;let i=s.filter(a=>a.properties.site_id===e.properties.id&&"15_min"===a.properties.walkability_type)[0]||null;return{...e,properties:{...e.properties,service_areas:{walking:{"10_min":(null===(t=e.properties.service_areas)||void 0===t?void 0:null===(a=t.walking)||void 0===a?void 0:a["10_min"])||null,"15_min":i},radius:(null===(r=e.properties.service_areas)||void 0===r?void 0:r.radius)||{half_mile:null,one_mile:null}}}}});return{...e,features:a}}),n(!1),c("complete"),o(e=>({...e,walking_15_min:!0}))}catch(e){(0,d.H)(e,"15-min walkability data failed to load",d.wE.WARN),n(!1),c("complete")}},[a,r,n,o,c])}}({basePath:o,data:R,setData:W,loadedLayers:Q,setLoadedLayers:J,setLoading10Min:z,setWalkabilityLoading:U,setLoadingPhase:X}),{loadRadiusData:et}=function(e){let{staticData:a,data:t,setData:r,loadedLayers:i,setLoadedLayers:o,setLoadingRadius:l,setLoadingPhase:n}=e;return{loadRadiusData:(0,s.useCallback)(async()=>{if(!i.half_mile_radius||!i.one_mile_radius){l(!0),n("radius");try{let{radiusPolygons:e}=a;r(a=>{if(!a)return a;let t=a.features.map(a=>{var t;let r=e.filter(e=>e.properties.site_id===a.properties.id),s={half_mile:r.find(e=>"half_mile"===e.properties.radius_type)||null,one_mile:r.find(e=>"one_mile"===e.properties.radius_type)||null};return{...a,properties:{...a.properties,service_areas:{walking:(null===(t=a.properties.service_areas)||void 0===t?void 0:t.walking)||{"10_min":null,"15_min":null},radius:s}}}});return{...a,features:t}}),l(!1),o(e=>({...e,half_mile_radius:!0,one_mile_radius:!0}))}catch(e){(0,d.H)(e,"Radius data failed to load",d.wE.WARN),l(!1)}}},[a,i.half_mile_radius,i.one_mile_radius,r,l,o,n])}}({staticData:{radiusPolygons:q.radiusPolygons},data:R,setData:W,loadedLayers:Q,setLoadedLayers:J,setLoadingRadius:V,setLoadingPhase:X}),{visibleLayers:er,setVisibleLayers:es,toggleLayer:ei,resetLayers:eo}=function(e,a,t){let[r,i]=(0,s.useState)(y),o=(0,s.useCallback)(s=>{let o=!r[s];i(e=>({...e,[s]:o})),!o||("walking_10_min"!==s||e.walking_10_min?"half_mile_radius"!==s&&"one_mile_radius"!==s||e.half_mile_radius||e.one_mile_radius||t():a())},[r,e,a,t]),l=(0,s.useCallback)(()=>{i(y)},[]);return{visibleLayers:r,setVisibleLayers:i,toggleLayer:o,resetLayers:l}}(Q,ee,et);(0,s.useEffect)(()=>{$(),setTimeout(()=>ea(),500)},[$,ea]),(0,s.useEffect)(()=>{(async()=>{try{let a=await fetch("".concat(o,"/data/lake_washington_shoreline.json"));if(a.ok){var e;let t=await a.json();A((null===(e=t.features)||void 0===e?void 0:e[0])||t)}}catch(e){(0,d.H)(e,"Failed to load Lake City boundary",d.wE.WARN)}})()},[o]);let el=(0,s.useCallback)(()=>{},[]),en=(0,s.useCallback)((e,a)=>(function(e,a,t){var r,s;if(!t)return!0;let i=(null===(s=t.geometry)||void 0===s?void 0:null===(r=s.coordinates)||void 0===r?void 0:r[0])||[];if(0===i.length)return!0;let o=!1;for(let t=0,r=i.length-1;t<i.length;r=t++){let[s,l]=i[t],[n,c]=i[r];l>e!=c>e&&a<(n-s)*(e-l)/(c-l)+s&&(o=!o)}return o})(e,a,L),[L]),ec=(0,s.useCallback)(e=>(function(e,a){var t,r;if(!a||!(null==e?void 0:null===(r=e.geometry)||void 0===r?void 0:null===(t=r.coordinates)||void 0===t?void 0:t[0]))return!0;let s=e.geometry.coordinates[0];for(let e of s){let[t,r]=e;if(a.contains([r,t]))return!0}if(s.length>0){let[e,t]=s[Math.floor(s.length/2)];return a.contains([t,e])}return!1})(e,v),[v]),ed=(0,s.useCallback)(()=>{H||ee()},[ee,H]);if((0,s.useCallback)(()=>{h(e=>e+1)},[]),D)return(0,r.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading map..."})]})});if(G)return(0,r.jsx)("div",{className:"flex items-center justify-center h-screen bg-red-100",children:(0,r.jsxs)("div",{className:"text-center text-red-700",children:[(0,r.jsx)("p",{className:"font-bold",children:"Error:"}),(0,r.jsx)("p",{children:G})]})});if(!R)return null;let eu=R?R.features.filter(e=>{let{usda_category:a,status:t,name:r,services:s,has_pharmacy:i}=e.properties;if("closed"===t)return r.includes("Fred Meyer")?er.closed_fred_meyer:r.includes("Bartell")&&!r.includes("Former")?er.closed_bartell:!!r.includes("Walgreens")&&!r.includes("Former")&&er.closed_walgreens;if("potential"===t||(null==s?void 0:s.potential_site))return r.includes("Library")?er.potential_library:r.includes("Neighborcare")?er.potential_neighborcare:r.includes("Public Health Dental")?er.potential_health_dental:r.includes("Former Bartell")?er.potential_bartell:!!r.includes("Former Bank")&&er.potential_bank;if((null==a?void 0:a.code)==="SM")return!er.supermarkets&&(er.pharmacies_full_hours||er.pharmacies_limited_hours)?!0===i:er.supermarkets;if((null==a?void 0:a.code)==="PH"){let a=e.properties.pharmacy_hours_category;return"full_hours"===a?er.pharmacies_full_hours:"limited_hours"===a?er.pharmacies_limited_hours:er.pharmacies_full_hours||er.pharmacies_limited_hours}if(null==a?void 0:a.code)switch(a.code){case"LG":return er.large_groceries;case"SG":return er.small_groceries;case"CS":return er.corner_stores;case"FM":return er.farmers_markets}return!1}):[];return(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row w-full",children:[(0,r.jsxs)("div",{className:"relative w-full h-screen md:h-[75vh] lg:h-screen lg:flex-1",children:[(0,r.jsxs)("button",{onClick:()=>P(!M),className:"md:hidden fixed bottom-20 left-4 z-[1000] bg-gray-700 hover:bg-gray-800 text-white shadow-xl rounded-full px-5 py-3.5 border-2 border-white/50 flex items-center gap-2 min-h-[52px]","aria-label":"Toggle Resource Access Key",style:{boxShadow:"0 4px 15px rgba(0,0,0,0.25)"},children:[(0,r.jsx)("span",{className:"text-sm font-semibold uppercase tracking-wide",children:"Map Key"}),(0,r.jsx)("span",{className:"text-base font-semibold",children:M?"✕":"☰"})]}),(0,r.jsx)(j,{loading10Min:B,loadingRadius:Y,walkabilityLoading:H,loadingPhase:K}),(0,r.jsx)(w,{basePath:o}),!H&&!(null==R?void 0:null===(i=R.features)||void 0===i?void 0:null===(t=i[0])||void 0===t?void 0:null===(a=t.properties)||void 0===a?void 0:null===(e=a.service_areas)||void 0===e?void 0:e.walking)&&(0,r.jsx)("div",{className:"absolute top-16 left-4 z-[1000] bg-white shadow-lg rounded-lg p-3 border",children:(0,r.jsxs)("button",{onClick:ed,className:"flex items-center space-x-2 text-sm text-blue-600 hover:text-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded min-h-[44px] min-w-[44px] px-3 py-2","aria-label":"Load detailed walkability areas",children:[(0,r.jsx)("span",{children:"\uD83D\uDDFA️"}),(0,r.jsx)("span",{children:"Load detailed walkability areas"})]})}),(0,r.jsxs)(l.h,{center:u.DEFAULT_CENTER,zoom:u.DEFAULT_ZOOM,minZoom:u.MIN_ZOOM,maxZoom:u.MAX_ZOOM,zoomControl:!1,className:"h-full w-full z-0",style:{height:"100%",width:"100%",position:"absolute",top:0,left:0,right:0,bottom:0},whenReady:el,children:[(0,r.jsx)(n.I,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,r.jsx)(N,{mapRef:m}),(0,r.jsx)(S,{onBoundsChange:C}),(0,r.jsx)(k,{onResetLayers:eo,onResetStore:()=>f(null)}),(0,r.jsx)(T,{}),(0,r.jsx)(O,{visibleFeatures:eu,visibleLayers:er,checkPointInLakeCity:en,checkPolygonIntersectsViewport:ec}),(0,r.jsx)(I,{visibleFeatures:eu,visibleLayers:er,checkPointInLakeCity:en,checkPolygonIntersectsViewport:ec}),(0,r.jsx)(Z,{visibleFeatures:eu,visibleLayers:er,selectedStore:g,onStoreSelect:f})]},"lake-city-map-".concat(p))]}),M&&(0,r.jsx)(E,{visibleLayers:er,toggleLayer:ei,basePath:o,onClose:()=>P(!1)}),(0,r.jsx)(F,{visibleLayers:er,toggleLayer:ei,basePath:o})]})}delete o().Icon.Default.prototype._getIconUrl,o().Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"})},8685:function(e,a,t){t.d(a,{DP:function(){return r},RZ:function(){return n},Rr:function(){return o},at:function(){return i},fp:function(){return s},ji:function(){return l}});let r={CAROUSEL_AUTO_ROTATE_INTERVAL:5e3,SCROLL_DELAY:100},s={SIGNATURE:{MAX_REQUESTS:5,WINDOW_MS:3e5},SURVEY:{MAX_REQUESTS:5,WINDOW_MS:3e5},SURVEY_SUBMISSION:{MAX_REQUESTS:3,WINDOW_MS:36e5}},i={COMMENT:{MIN_LENGTH:10,MAX_LENGTH:1e3},SURVEY_COMMENT:{MIN_LENGTH:5,MAX_LENGTH:2e3},NAME:{MIN_LENGTH:2,MAX_LENGTH:100},EMAIL:{MAX_LENGTH:254},ZIPCODE:{MAX_LENGTH:10}},o={BASE_PATH:"/grocery-pharmacy-access-map-site",HOSTNAME:"abiaina.github.io"},l={SIGNATURES:"signatures",SOLUTION_VOTES:"solution_votes",SURVEY_RESPONSES:"survey_responses",SURVEY_COMMENTS:"survey_comments"},n={DATABASE_UNAVAILABLE:"Database connection unavailable. Please try again later.",GENERIC_ERROR:"An unexpected error occurred. Please try again.",RATE_LIMIT_EXCEEDED:"Rate limit exceeded. Please wait before trying again.",VALIDATION_FAILED:"Please check your input and try again."}},8063:function(e,a,t){t.d(a,{H:function(){return o},Iu:function(){return l},wE:function(){return s}});var r,s,i=t(8685);function o(e,a){arguments.length>2&&void 0!==arguments[2]&&arguments[2],e instanceof Error?e.message:String(e),e instanceof Error&&e.stack,new Date().toISOString()}function l(e){return"object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message?(o(e,"Supabase operation failed","error"),e.message||i.RZ.DATABASE_UNAVAILABLE):(o(e,"Unknown error in Supabase operation","error"),i.RZ.GENERIC_ERROR)}(r=s||(s={})).ERROR="error",r.WARN="warn",r.INFO="info"},4508:function(e,a,t){t.d(a,{b:function(){return s}});var r=t(8685);function s(){return window.location.hostname===r.Rr.HOSTNAME||window.location.pathname.startsWith(r.Rr.BASE_PATH),r.Rr.BASE_PATH}},8401:function(e,a,t){var r=t(759);t.o(r,"Circle")&&t.d(a,{Circle:function(){return r.Circle}})},6832:function(e,a,t){var r=t(759);t.o(r,"CircleMarker")&&t.d(a,{CircleMarker:function(){return r.CircleMarker}})},7183:function(e,a,t){var r=t(759);t.o(r,"Map")&&t.d(a,{Map:function(){return r.Map}})},5125:function(e,a,t){var r=t(759);t.o(r,"Marker")&&t.d(a,{Marker:function(){return r.Marker}})},9544:function(e,a,t){var r=t(759);t.o(r,"Polygon")&&t.d(a,{Polygon:function(){return r.Polygon}})},2955:function(e,a,t){var r=t(759);t.o(r,"Popup")&&t.d(a,{Popup:function(){return r.Popup}})},8562:function(e,a,t){var r=t(759);t.o(r,"TileLayer")&&t.d(a,{TileLayer:function(){return r.TileLayer}})},832:function(e,a,t){var r=t(759);t.o(r,"Tooltip")&&t.d(a,{Tooltip:function(){return r.Tooltip}})}}]);