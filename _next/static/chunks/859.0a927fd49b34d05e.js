"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{839:function(e,a,r){r.r(a),r.d(a,{default:function(){return f}});var t=r(7437),s=r(2265),i=r(759),l=r.n(i);r(5046);var o=r(2679),n=r(755),c=r(3479),d=r(1726),m=r(2969),h=r(6782),p=r(8369),u=r(4949),g=r(6360),y=JSON.parse('{"type":"FeatureCollection","features":[{"type":"Feature","properties":{"id":"LC001","name":"Fred Meyer (Supermarket - Full Service Pharmacies)","address":"13000 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.291963,47.724082]},"geometry":{"type":"Point","coordinates":[-122.291963,47.724082]}},{"type":"Feature","properties":{"id":"LC002","name":"QFC - North Seattle (NE 145th St)","address":"1531 NE 145th St, Seattle, WA 98155","coordinates":[-122.3105,47.73335]},"geometry":{"type":"Point","coordinates":[-122.3105,47.73335]}},{"type":"Feature","properties":{"id":"LC003","name":"QFC - Northgate (Roosevelt Way NE)","address":"11100 Roosevelt Way NE, Seattle, WA 98125","coordinates":[-122.317275,47.709396]},"geometry":{"type":"Point","coordinates":[-122.317275,47.709396]}},{"type":"Feature","properties":{"id":"LC004","name":"Safeway (Roosevelt Way NE)","address":"7300 Roosevelt Way NE, Seattle, WA 98115","coordinates":[-122.31700180541914,47.682235475734664]},"geometry":{"type":"Point","coordinates":[-122.31700180541914,47.682235475734664]}},{"type":"Feature","properties":{"id":"LC005","name":"Walgreens (Northgate Way @ Roosevelt)","address":"859 NE Northgate Way, Seattle, WA 98125","coordinates":[-122.319,47.709]},"geometry":{"type":"Point","coordinates":[-122.319,47.709]}},{"type":"Feature","properties":{"id":"LC006","name":"Sprouts Farmers Market (Aurora)","address":"13010 Aurora Ave N, Seattle, WA 98133","coordinates":[-122.3429672,47.7235428]},"geometry":{"type":"Point","coordinates":[-122.3429672,47.7235428]}},{"type":"Feature","properties":{"id":"LC007","name":"Saar\'s Oak Tree Super Saver Foods","address":"10008 Aurora Ave N, Seattle, WA 98133","coordinates":[-122.342652,47.702578]},"geometry":{"type":"Point","coordinates":[-122.342652,47.702578]}},{"type":"Feature","properties":{"id":"LC008","name":"Grocery Outlet","address":"3020 NE 127th St, Seattle, WA 98125","coordinates":[-122.29498,47.72178]},"geometry":{"type":"Point","coordinates":[-122.29498,47.72178]}},{"type":"Feature","properties":{"id":"LC009","name":"City Grocery","address":"13737 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29003071843383,47.73007627022229]},"geometry":{"type":"Point","coordinates":[-122.29003071843383,47.73007627022229]}},{"type":"Feature","properties":{"id":"LC010","name":"Goodies Mediterranean Market","address":"13721 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29453682939305,47.730119569138076]},"geometry":{"type":"Point","coordinates":[-122.29453682939305,47.730119569138076]}},{"type":"Feature","properties":{"id":"LC011","name":"Kilimanjaro Market","address":"12714 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29354977657114,47.721949886293984]},"geometry":{"type":"Point","coordinates":[-122.29354977657114,47.721949886293984]}},{"type":"Feature","properties":{"id":"LC012","name":"Nazreth Market","address":"12322 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29372143794382,47.718716301042605]},"geometry":{"type":"Point","coordinates":[-122.29372143794382,47.718716301042605]}},{"type":"Feature","properties":{"id":"LC013","name":"Lake City Library","address":"12501 28th Ave NE, Seattle, WA 98125","coordinates":[-122.297,47.7208]},"geometry":{"type":"Point","coordinates":[-122.297,47.7208]}},{"type":"Feature","properties":{"id":"LC014","name":"Neighborcare Health Center","address":"12721 30th Ave NE, Seattle, WA 98125","coordinates":[-122.295,47.72]},"geometry":{"type":"Point","coordinates":[-122.295,47.72]}},{"type":"Feature","properties":{"id":"LC015","name":"North Seattle Public Health Dental","address":"12359 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29482301465367,47.71912903122116]},"geometry":{"type":"Point","coordinates":[-122.29482301465367,47.71912903122116]}},{"type":"Feature","properties":{"id":"LC016","name":"Former Bartell Drugs Building","address":"3018 NE 125th St, Seattle, WA 98125","coordinates":[-122.298,47.722]},"geometry":{"type":"Point","coordinates":[-122.298,47.722]}},{"type":"Feature","properties":{"id":"LC017","name":"Former Bank Site","address":"2825 NE 125th St, Seattle, WA 98125","coordinates":[-122.29482301465367,47.71912903122116]},"geometry":{"type":"Point","coordinates":[-122.29482301465367,47.71912903122116]}},{"type":"Feature","properties":{"id":"LC018","name":"Bartell Drugs (Full Service Pharmacies)","address":"3018 NE 125th St, Seattle, WA 98125","coordinates":[-122.2956250619695,47.71968596554774]},"geometry":{"type":"Point","coordinates":[-122.2956250619695,47.71968596554774]}},{"type":"Feature","properties":{"id":"LC019","name":"Walgreens (Full Service Pharmacies)","address":"14352 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29194719450025,47.73363925901361]},"geometry":{"type":"Point","coordinates":[-122.29194719450025,47.73363925901361]}},{"type":"Feature","properties":{"id":"LC020","name":"Target (Northgate)","address":"302 NE Northgate Way, Seattle, WA 98125","coordinates":[-122.32497614494788,47.70890478849319]},"geometry":{"type":"Point","coordinates":[-122.32497614494788,47.70890478849319]}},{"type":"Feature","properties":{"id":"LC021","name":"Seattle Indian Health Board - Lake City Clinic","address":"12736 33rd Ave NE, Seattle, WA 98125","coordinates":[-122.2919986,47.722238]},"geometry":{"type":"Point","coordinates":[-122.2919986,47.722238]}},{"type":"Feature","properties":{"id":"LC022","name":"Genoa Healthcare","address":"11000 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.3009303355822,47.70883096631093]},"geometry":{"type":"Point","coordinates":[-122.3009303355822,47.70883096631093]}},{"type":"Feature","properties":{"id":"LC023","name":"Lake City Farmers Market","address":"12501 28th Ave NE, Seattle, WA 98125","coordinates":[-122.29800162148858,47.720159835592455]},"geometry":{"type":"Point","coordinates":[-122.29800162148858,47.720159835592455]}},{"type":"Feature","properties":{"id":"LC024","name":"Whole Foods Market","address":"1026 NE 64th St, Seattle, WA 98115","coordinates":[-122.31587527768852,47.67524665751115]},"geometry":{"type":"Point","coordinates":[-122.31587527768852,47.67524665751115]}}]}'),x=JSON.parse('{"sites":[{"id":"LC001","name":"Fred Meyer (Supermarket - Full Service Pharmacies)","address":"13000 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.291963,47.724082],"usda_category":{"code":"SM","name":"Supermarket","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":true,"status":"closed","is_potential_site":false,"closed_date":"Oct 2025","notes":"Large supermarket with full service departments (butcher, bakery, pharmacy). Provides comprehensive fresh food access."},{"id":"LC002","name":"QFC - North Seattle (NE 145th St)","address":"1531 NE 145th St, Seattle, WA 98155","coordinates":[-122.3105,47.73335],"usda_category":{"code":"SM","name":"Supermarket","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":true,"status":"open","is_potential_site":false,"closed_date":null,"pharmacy_hours_category":"full_hours","pharmacy_hours":"M-F 9am-1pm, 1:30-8pm; Sat 9am-1pm, 1:30-6pm; Sun 11am-1pm, 1:30-6pm","hours":"Daily 6am-11pm","notes":"Full-line supermarket with in-store pharmacy - extended daily and weekend hours"},{"id":"LC003","name":"QFC - Northgate (Roosevelt Way NE)","address":"11100 Roosevelt Way NE, Seattle, WA 98125","coordinates":[-122.317275,47.709396],"usda_category":{"code":"SM","name":"Supermarket","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":true,"status":"open","is_potential_site":false,"closed_date":null,"pharmacy_hours_category":"full_hours","pharmacy_hours":"M-F 9am-1pm, 1:30-8pm; Sat 9am-1pm, 1:30-6pm; Sun 11am-1pm, 1:30-6pm","hours":"Daily 6am-11pm","notes":"Full-line supermarket with in-store pharmacy - extended daily and weekend hours"},{"id":"LC004","name":"Safeway (Roosevelt Way NE)","address":"7300 Roosevelt Way NE, Seattle, WA 98115","coordinates":[-122.31700180541914,47.682235475734664],"usda_category":{"code":"SM","name":"Supermarket","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":true,"status":"open","is_potential_site":false,"closed_date":null,"pharmacy_hours_category":"full_hours","pharmacy_hours":"M-F 9am-1:30pm, 2-8pm; Sat-Sun 10am-1:30pm, 2-6pm","hours":"Daily 6am-11pm","notes":"Full-line supermarket with in-store pharmacy - extended daily and weekend hours"},{"id":"LC005","name":"Walgreens (Northgate Way @ Roosevelt)","address":"859 NE Northgate Way, Seattle, WA 98125","coordinates":[-122.319,47.709],"usda_category":{"code":"PH","name":"Pharmacy","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":true,"status":"open","is_potential_site":false,"closed_date":null,"pharmacy_hours_category":"full_hours","pharmacy_hours":"M-F 9am-1:30pm, 2-9pm; Sat-Sun 10am-1:30pm, 2-6pm","hours":"Daily 8am-10pm","notes":"Pharmacy with prescription services - extended daily and weekend hours (approx coords)"},{"id":"LC006","name":"Sprouts Farmers Market (Aurora)","address":"13010 Aurora Ave N, Seattle, WA 98133","coordinates":[-122.3429672,47.7235428],"usda_category":{"code":"LG","name":"Large Grocery","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":false,"status":"open","is_potential_site":false,"closed_date":null,"notes":"Natural foods supermarket with fresh produce and organic options"},{"id":"LC007","name":"Saar\'s Oak Tree Super Saver Foods","address":"10008 Aurora Ave N, Seattle, WA 98133","coordinates":[-122.342652,47.702578],"usda_category":{"code":"LG","name":"Large Grocery","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":false,"status":"open","is_potential_site":false,"closed_date":null,"notes":"Full-line supermarket with competitive pricing"},{"id":"LC008","name":"Grocery Outlet","address":"3020 NE 127th St, Seattle, WA 98125","coordinates":[-122.29498,47.72178],"usda_category":{"code":"SG","name":"Small Grocery","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":false,"status":"open","is_potential_site":false,"closed_date":null,"notes":"Discount grocery store with limited fresh food selection and often soon-to-expire items"},{"id":"LC009","name":"City Grocery","address":"13737 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29003071843383,47.73007627022229],"usda_category":{"code":"SG","name":"Small Grocery","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":false,"status":"open","is_potential_site":false,"closed_date":null,"notes":"Small independent grocer; limited produce and fresh items"},{"id":"LC010","name":"Goodies Mediterranean Market","address":"13721 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29453682939305,47.730119569138076],"usda_category":{"code":"SG","name":"Small Grocery","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":false,"status":"open","is_potential_site":false,"closed_date":null,"notes":"Specialty Mediterranean grocery store"},{"id":"LC011","name":"Kilimanjaro Market","address":"12714 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29354977657114,47.721949886293984],"usda_category":{"code":"SG","name":"Small Grocery","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":false,"status":"open","is_potential_site":false,"closed_date":null,"notes":"Small independent grocer; limited produce and fresh items"},{"id":"LC012","name":"Nazreth Market","address":"12322 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29372143794382,47.718716301042605],"usda_category":{"code":"SG","name":"Small Grocery","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":false,"status":"open","is_potential_site":false,"closed_date":null,"notes":"Small independent grocer; limited produce and fresh items"},{"id":"LC013","name":"Lake City Library","address":"12501 28th Ave NE, Seattle, WA 98125","coordinates":[-122.297,47.7208],"usda_category":{"code":"N/A","name":"Potential Site","source":"Community Planning"},"has_pharmacy":false,"status":"potential","is_potential_site":true,"closed_date":null,"notes":"Public library with community meeting spaces"},{"id":"LC014","name":"Neighborcare Health Center","address":"12721 30th Ave NE, Seattle, WA 98125","coordinates":[-122.295,47.72],"usda_category":{"code":"N/A","name":"Potential Site","source":"Community Planning"},"has_pharmacy":false,"status":"potential","is_potential_site":true,"closed_date":null,"notes":"Community health center for integrated pharmacy services"},{"id":"LC015","name":"North Seattle Public Health Dental","address":"12359 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29482301465367,47.71912903122116],"usda_category":{"code":"N/A","name":"Potential Site","source":"Community Planning"},"has_pharmacy":true,"status":"potential","is_potential_site":true,"closed_date":null,"notes":"Public health dental clinic with pharmacy potential"},{"id":"LC016","name":"Former Bartell Drugs Building","address":"3018 NE 125th St, Seattle, WA 98125","coordinates":[-122.298,47.722],"usda_category":{"code":"N/A","name":"Potential Site","source":"Community Planning"},"has_pharmacy":true,"status":"potential","is_potential_site":true,"closed_date":null,"notes":"Former pharmacy building, ideal for pharmacy services"},{"id":"LC017","name":"Former Bank Site","address":"2825 NE 125th St, Seattle, WA 98125","coordinates":[-122.29482301465367,47.71912903122116],"usda_category":{"code":"N/A","name":"Potential Site","source":"Community Planning"},"has_pharmacy":true,"status":"potential","is_potential_site":true,"closed_date":null,"notes":"Former bank building suitable for pharmacy conversion"},{"id":"LC018","name":"Bartell Drugs (Full Service Pharmacies)","address":"3018 NE 125th St, Seattle, WA 98125","coordinates":[-122.2956250619695,47.71968596554774],"usda_category":{"code":"PH","name":"Pharmacy","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":true,"status":"closed","is_potential_site":false,"closed_date":"2023","notes":"Closed pharmacy location"},{"id":"LC019","name":"Walgreens (Full Service Pharmacies)","address":"14352 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.29194719450025,47.73363925901361],"usda_category":{"code":"PH","name":"Pharmacy","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":true,"status":"closed","is_potential_site":false,"closed_date":"2024","notes":"Closed pharmacy location"},{"id":"LC020","name":"Target (Northgate)","address":"302 NE Northgate Way, Seattle, WA 98125","coordinates":[-122.32497614494788,47.70890478849319],"usda_category":{"code":"LG","name":"Large Grocery","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":true,"status":"open","is_potential_site":false,"pharmacy_hours_category":"full_hours","pharmacy_hours":"M-F 9am-1:30pm, 2-8pm; Sat-Sun 9am-1:30pm, 2-6pm","hours":"Daily 8am-9pm","notes":"Large grocery store with pharmacy services - extended daily and weekend hours"},{"id":"LC021","name":"Seattle Indian Health Board - Lake City Clinic","address":"12736 33rd Ave NE, Seattle, WA 98125","coordinates":[-122.2919986,47.722238],"usda_category":{"code":"PH","name":"Pharmacy","source":"Community Health Center"},"has_pharmacy":true,"status":"open","is_potential_site":false,"pharmacy_hours_category":"limited_hours","pharmacy_hours":"M-F 8am-5pm","hours":"M-F 8am - 5pm","notes":"Community health center with limited pharmacy hours - weekdays only"},{"id":"LC022","name":"Genoa Healthcare","address":"11000 Lake City Way NE, Seattle, WA 98125","coordinates":[-122.3009303355822,47.70883096631093],"usda_category":{"code":"PH","name":"Pharmacy","source":"Community Health Center"},"has_pharmacy":true,"status":"open","is_potential_site":false,"pharmacy_hours_category":"limited_hours","pharmacy_hours":"M-F 8:30am-12pm, 1pm-5pm","hours":"8:30am-12pm, 1pm-5pm M-F","notes":"Community health center pharmacy with limited hours - weekdays only"},{"id":"LC023","name":"Lake City Farmers Market","address":"12501 28th Ave NE, Seattle, WA 98125","coordinates":[-122.29800162148858,47.720159835592455],"usda_category":{"code":"FM","name":"Farmers Market","source":"Community Market"},"has_pharmacy":false,"status":"open","is_potential_site":false,"notes":"Seasonal farmers market providing fresh produce and local goods"},{"id":"LC024","name":"Whole Foods Market","address":"1026 NE 64th St, Seattle, WA 98115","coordinates":[-122.31587527768852,47.67524665751115],"usda_category":{"code":"LG","name":"Large Grocery","source":"USDA SNAP Retailer Store Type Definitions (2025)"},"has_pharmacy":false,"status":"open","is_potential_site":false,"closed_date":null,"hours":"Daily 7am-10pm","notes":"Natural and organic foods supermarket with extensive fresh produce selection"}]}'),b=JSON.parse('{"type":"FeatureCollection","features":[{"type":"Feature","properties":{"site_id":"LC021","name":"Seattle Indian Health Board - Lake City Clinic","radius_meters":800},"geometry":{"type":"Polygon","coordinates":[[[-122.29068498686783,47.732432866447986],[-122.29068498686783,47.732432866447986],[-122.29068498686783,47.732432866447986],[-122.29068498686783,47.732432866447986],[-122.29068498686783,47.732432866447986]]]}},{"type":"Feature","properties":{"site_id":"LC022","name":"Genoa Healthcare","radius_meters":800},"geometry":{"type":"Polygon","coordinates":[[[-122.29892513144739,47.71834103135863],[-122.29892513144739,47.71834103135863],[-122.29892513144739,47.71834103135863],[-122.29892513144739,47.71834103135863],[-122.29892513144739,47.71834103135863]]]}},{"type":"Feature","properties":{"site_id":"LC023","name":"Lake City Farmers Market","radius_meters":400},"geometry":{"type":"Polygon","coordinates":[[[-122.29800162148858,47.720159835592455],[-122.29800162148858,47.720159835592455],[-122.29800162148858,47.720159835592455],[-122.29800162148858,47.720159835592455],[-122.29800162148858,47.720159835592455]]]}}]}');function f(){var e,a,r,i;let f="/grocery-pharmacy-access-map-site",[_,k]=(0,s.useState)(null),[v,N]=(0,s.useState)(!0),[j,w]=(0,s.useState)(null),[S,C]=(0,s.useState)(!1),[L,F]=(0,s.useState)(!1),[A,P]=(0,s.useState)(!1),[M,W]=(0,s.useState)("stores"),[T,D]=(0,s.useState)({walking_10_min:!1,walking_15_min:!1,half_mile_radius:!1,one_mile_radius:!1}),[G,E]=(0,s.useState)(null),[I,R]=(0,s.useState)(0),H=(0,s.useRef)(null),[O,B]=(0,s.useState)(null),[U,z]=(0,s.useState)(null),[K,V]=(0,s.useState)({supermarkets:!0,large_groceries:!0,small_groceries:!1,corner_stores:!1,pharmacies_full_hours:!0,pharmacies_limited_hours:!0,farmers_markets:!1,potential_library:!1,potential_neighborcare:!1,potential_health_dental:!1,potential_bartell:!1,potential_bank:!1,closed_fred_meyer:!0,closed_bartell:!0,closed_walgreens:!0,half_mile_radius:!1,one_mile_radius:!1,walking_10_min:!1,walking_15_min:!0}),[Z,J]=(0,s.useState)(!1),[Q,Y]=(0,s.useState)(!0),q=[47.72,-122.3];(0,s.useEffect)(()=>{$()},[]);let X=(0,s.useMemo)(()=>({coordinates:y,siteDetails:x,radiusPolygons:b.features||b}),[]),$=(0,s.useCallback)(async()=>{try{let{coordinates:e,siteDetails:a,radiusPolygons:r}=X;ee(e,a,r),setTimeout(()=>et(),500)}catch(e){console.error("Failed to load Lake City data:",e),w(e instanceof Error?e.message:"Failed to load Lake City data"),N(!1)}},[X]),ee=(0,s.useCallback)((e,a,r)=>{k({type:"FeatureCollection",features:e.features.map(e=>{var t,s,i,l,o;let n=a.sites.find(a=>a.id===e.properties.id);return r.filter(a=>a.properties.site_id===e.properties.id),{...e,properties:{...e.properties,...n,services:{grocery:(null==n?void 0:null===(t=n.usda_category)||void 0===t?void 0:t.code)==="SM"||(null==n?void 0:null===(s=n.usda_category)||void 0===s?void 0:s.code)==="LG"||(null==n?void 0:null===(i=n.usda_category)||void 0===i?void 0:i.code)==="SG"||(null==n?void 0:null===(l=n.usda_category)||void 0===l?void 0:l.code)==="CS",pharmacy:(null==n?void 0:n.has_pharmacy)||!1,farmers_market:(null==n?void 0:null===(o=n.usda_category)||void 0===o?void 0:o.code)==="FM",potential_site:(null==n?void 0:n.is_potential_site)||!1},service_areas:{walking:{"10_min":null,"15_min":null},radius:{half_mile:null,one_mile:null}}}}})}),N(!1),W("stores")},[]),ea=(0,s.useCallback)(async()=>{if(!T.walking_10_min){F(!0),W("walkability-10");try{let e=await fetch("".concat(f,"/data/lakecity_walkability_polygons.json"));if(!e.ok)throw Error("Failed to load walkability data: ".concat(e.status));let a=await e.json(),r=a.features||a;k(e=>{if(!e)return e;let a=e.features.map(e=>{var a;let t=r.filter(a=>a.properties.site_id===e.properties.id&&"10_min"===a.properties.walkability_type)[0]||null;return{...e,properties:{...e.properties,service_areas:{...e.properties.service_areas,walking:{...null===(a=e.properties.service_areas)||void 0===a?void 0:a.walking,"10_min":t}}}}});return{...e,features:a}}),F(!1),D(e=>({...e,walking_10_min:!0}))}catch(e){console.warn("10-min walkability data failed to load:",e),F(!1)}}},[f,T.walking_10_min]),er=(0,s.useCallback)(async()=>{if(!T.half_mile_radius||!T.one_mile_radius){P(!0),W("radius");try{let{radiusPolygons:e}=X;k(a=>{if(!a)return a;let r=a.features.map(a=>{let r=e.filter(e=>e.properties.site_id===a.properties.id),t={half_mile:r.find(e=>"half_mile"===e.properties.radius_type),one_mile:r.find(e=>"one_mile"===e.properties.radius_type)};return{...a,properties:{...a.properties,service_areas:{...a.properties.service_areas,radius:t}}}});return{...a,features:r}}),P(!1),D(e=>({...e,half_mile_radius:!0,one_mile_radius:!0}))}catch(e){console.warn("Radius data failed to load:",e),P(!1)}}},[X,T.half_mile_radius,T.one_mile_radius]),et=(0,s.useCallback)(async()=>{C(!0),W("walkability-15");try{let e=await fetch("".concat(f,"/data/lakecity_walkability_polygons.json"));if(!e.ok)throw Error("Failed to load walkability data: ".concat(e.status));let a=await e.json(),r=a.features||a;k(e=>{if(!e)return e;let a=e.features.map(e=>{var a;let t=r.filter(a=>a.properties.site_id===e.properties.id&&"15_min"===a.properties.walkability_type)[0]||null;return{...e,properties:{...e.properties,service_areas:{...e.properties.service_areas,walking:{...null===(a=e.properties.service_areas)||void 0===a?void 0:a.walking,"15_min":t}}}}});return{...e,features:a}}),C(!1),W("complete"),D(e=>({...e,walking_15_min:!0}))}catch(e){console.warn("15-min walkability data failed to load:",e),C(!1),W("complete")}},[f]),es=(0,s.useCallback)(()=>{},[]);(0,s.useEffect)(()=>{(async()=>{try{let a=await fetch("".concat(f,"/data/lake_washington_shoreline.json"));if(a.ok){var e;let r=await a.json();z((null===(e=r.features)||void 0===e?void 0:e[0])||r)}}catch(e){console.warn("Failed to load Lake City boundary:",e)}})()},[f]);let ei=(0,s.useCallback)((e,a)=>{var r,t;if(!U)return!0;let s=(null===(t=U.geometry)||void 0===t?void 0:null===(r=t.coordinates)||void 0===r?void 0:r[0])||[];if(0===s.length)return!0;let i=!1;for(let r=0,t=s.length-1;r<s.length;t=r++){let[l,o]=s[r],[n,c]=s[t];o>e!=c>e&&a<(n-l)*(e-o)/(c-o)+l&&(i=!i)}return i},[U]),el=(0,s.useCallback)(e=>{var a,r;if(!O||!(null==e?void 0:null===(r=e.geometry)||void 0===r?void 0:null===(a=r.coordinates)||void 0===a?void 0:a[0]))return!0;let t=e.geometry.coordinates[0];for(let e of t){let[a,r]=e;if(O.contains([r,a]))return!0}if(t.length>0){let[e,a]=t[Math.floor(t.length/2)];return O.contains([a,e])}return!1},[O]),eo=(0,s.useCallback)(function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1],e.length<=5)return e;let a=[e[0]],r=Math.max(3,Math.floor(e.length/50));for(let t=r;t<e.length-r;t+=r)a.push(e[t]);return a.push(e[e.length-1]),a},[]),en=(0,s.useCallback)(()=>{S||ea()},[ea,S]);(0,s.useCallback)(()=>{R(e=>e+1)},[]);let ec=(e,a,r)=>{let{name:t,usda_category:s,has_pharmacy:i,pharmacy_hours_category:o}=e.properties,n=l().divIcon({html:'\n        <svg width="'.concat(2*r,'" height="').concat(2*r,'" viewBox="0 0 ').concat(2*r," ").concat(2*r,'">\n          <!-- Left half circle (grocery) -->\n          <path d="M ').concat(r," 0 A ").concat(r," ").concat(r," 0 0 0 ").concat(r," ").concat(2*r," L ").concat(r," ").concat(r,' Z" \n                fill="').concat("#059669",'" />\n          <!-- Right half circle (pharmacy) -->\n          <path d="M ').concat(r," 0 A ").concat(r," ").concat(r," 0 0 1 ").concat(r," ").concat(2*r," L ").concat(r," ").concat(r,' Z" \n                fill="').concat("limited_hours"===o?"#FFB000":"#7c3aed",'" />\n        </svg>\n      '),className:"split-circle-marker",iconSize:[2*r,2*r],iconAnchor:[r,r]});return l().marker(a,{icon:n})},ed=e=>{let{usda_category:a,status:r,pharmacy_hours_category:t}=e.properties;if("closed"===r)return"#dc2626";if("potential"===r)return"#f59e0b";if(null==a?void 0:a.code)switch(a.code){case"SM":return"#059669";case"LG":return"#10b981";case"SG":return"#84cc16";case"CS":return"#2dd4bf";case"PH":if("limited_hours"===t)return"#FFB000";return"#7c3aed";case"FM":return"#22c55e"}return"#6b7280"},em=(e,a,r)=>{let t="closed"===e?6:8;return a&&(null==r?void 0:r.code)==="SM"&&(t+=2),t},eh=e=>{let{name:a,address:r,usda_category:t,status:s,notes:i,fas_score:l,has_pharmacy:o,hours:n,pharmacy_hours_category:c}=e.properties,d=eu(t,o);return"\n      <div>\n        <strong>".concat(a,"</strong><br/>\n        <strong>Category:</strong> ").concat(d,"<br/>\n        <strong>Status:</strong> ").concat(s,"<br/>\n        <strong>Address:</strong> ").concat(r,"<br/>\n        ").concat(n?"<strong>Hours:</strong> ".concat(n,"<br/>"):"","\n        ").concat(c?"<strong>Pharmacy Hours:</strong> ".concat("full_hours"===c?"Full Service - Day, Evening & Weekend service":"Weekdays Only - Mon–Fri Day service","<br/>"):"","\n        ").concat(a.toLowerCase().includes("indian health")&&o&&"open"===s?'<strong style="color: #d97706;">Note:</strong> <span style="color: #d97706;">Clinic enrollment required for new patients</span><br/>':"","\n        ").concat((null==t?void 0:t.source)?"<strong>Source:</strong> ".concat(t.source,"<br/>"):"","\n        ").concat(i?"<strong>Notes:</strong> ".concat(i,"<br/>"):"","\n        ").concat(o&&(null==t?void 0:t.code)==="SM"?"<strong>Services:</strong> Grocery + Pharmacy<br/>":"","\n        ").concat((null==l?void 0:l.overall_score)?"<strong>Fresh Access Score:</strong> ".concat(l.overall_score,"/10<br/>"):"","\n        ").concat((null==l?void 0:l.last_audit)?"<strong>Last Audit:</strong> ".concat(l.last_audit):"","\n      </div>\n    ")};(0,s.useCallback)(()=>{H.current&&(H.current.setView(q,14,{animate:!0}),setTimeout(()=>{H.current&&H.current.invalidateSize()},100),V({supermarkets:!0,large_groceries:!0,small_groceries:!1,corner_stores:!1,pharmacies_full_hours:!0,pharmacies_limited_hours:!0,farmers_markets:!1,potential_library:!1,potential_neighborcare:!1,potential_health_dental:!1,potential_bartell:!1,potential_bank:!1,closed_fred_meyer:!0,closed_bartell:!0,closed_walgreens:!0,half_mile_radius:!1,one_mile_radius:!1,walking_10_min:!1,walking_15_min:!0}),E(null))},[]);let ep=(0,s.useCallback)(e=>{let a=!K[e];V(r=>({...r,[e]:a})),!a||("walking_10_min"!==e||T.walking_10_min?"half_mile_radius"!==e&&"one_mile_radius"!==e||T.half_mile_radius||T.one_mile_radius||er():ea())},[K,T,ea,er]);if(v)return(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading map..."})]})});if(j)return(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-red-100",children:(0,t.jsxs)("div",{className:"text-center text-red-700",children:[(0,t.jsx)("p",{className:"font-bold",children:"Error:"}),(0,t.jsx)("p",{children:j})]})});if(!_)return null;let eu=(e,a)=>{if(!(null==e?void 0:e.code))return"Unknown";switch(e.code){case"SM":return a?"Supermarket (in-store pharmacy)":"Supermarket";case"LG":return"Large Grocery";case"SG":return"Small Grocery";case"CS":return"Corner Store";case"PH":return"Pharmacy";case"FM":return"Farmers Market";default:return"Unknown"}},eg=_.features.filter(e=>{let{usda_category:a,status:r,name:t,services:s,has_pharmacy:i}=e.properties;if("closed"===r)return t.includes("Fred Meyer")?K.closed_fred_meyer:t.includes("Bartell")&&!t.includes("Former")?K.closed_bartell:!!t.includes("Walgreens")&&!t.includes("Former")&&K.closed_walgreens;if("potential"===r||(null==s?void 0:s.potential_site))return t.includes("Library")?K.potential_library:t.includes("Neighborcare")?K.potential_neighborcare:t.includes("Public Health Dental")?K.potential_health_dental:t.includes("Former Bartell")?K.potential_bartell:!!t.includes("Former Bank")&&K.potential_bank;if((null==a?void 0:a.code)==="SM")return!K.supermarkets&&(K.pharmacies_full_hours||K.pharmacies_limited_hours)?!0===i:K.supermarkets;if((null==a?void 0:a.code)==="PH"){let a=e.properties.pharmacy_hours_category;return"full_hours"===a?K.pharmacies_full_hours:"limited_hours"===a?K.pharmacies_limited_hours:K.pharmacies_full_hours||K.pharmacies_limited_hours}if(null==a?void 0:a.code)switch(a.code){case"LG":return K.large_groceries;case"SG":return K.small_groceries;case"CS":return K.corner_stores;case"FM":return K.farmers_markets}return!1});return(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row w-full",children:[(0,t.jsxs)("div",{className:"relative w-full h-screen md:h-[75vh] lg:h-screen lg:flex-1",children:[(0,t.jsxs)("button",{onClick:()=>J(!Z),className:"md:hidden fixed bottom-20 left-4 z-[1000] bg-gray-700 hover:bg-gray-800 text-white shadow-xl rounded-full px-5 py-3.5 border-2 border-white/50 flex items-center gap-2 min-h-[52px]","aria-label":"Toggle Resource Access Key",style:{boxShadow:"0 4px 15px rgba(0,0,0,0.25)"},children:[(0,t.jsx)("span",{className:"text-sm font-semibold uppercase tracking-wide",children:"Map Key"}),(0,t.jsx)("span",{className:"text-base font-semibold",children:Z?"✕":"☰"})]}),(S||L||A)&&(0,t.jsx)("div",{className:"absolute top-16 md:top-4 left-4 z-[1000] bg-white shadow-lg rounded-lg p-3 border",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[L&&"Loading 10-min walkability...",A&&"Loading radius data...",S&&"walkability-15"===M&&"Loading 15-min walkability..."]})]})}),(0,t.jsxs)("div",{className:"fixed bottom-20 md:bottom-6 right-4 md:right-6 z-[999] flex flex-col gap-3",children:[(0,t.jsxs)("a",{href:"".concat(f,"/petition/"),className:"bg-evergreen hover:bg-evergreen-dark text-white px-5 py-3.5 md:px-6 md:py-3 rounded-full shadow-2xl hover:shadow-3xl transition-all text-sm md:text-sm font-bold uppercase tracking-wide border-2 md:border-4 border-white/30 hover:border-white/50 transform hover:scale-105 active:scale-100 whitespace-nowrap text-center min-h-[52px] flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-evergreen focus:ring-offset-2",style:{boxShadow:"0 8px 25px rgba(0, 0, 0, 0.35), 0 0 0 2px rgba(255, 255, 255, 0.2)"},"aria-label":"Sign the Petition",children:[(0,t.jsx)("span",{className:"hidden md:inline",children:"SIGN PETITION"}),(0,t.jsx)("span",{className:"md:hidden",children:"PETITION"})]}),(0,t.jsxs)("a",{href:"".concat(f,"/solutions/"),className:"bg-white/95 hover:bg-white text-gray-800 hover:text-gray-900 px-5 py-3.5 md:px-6 md:py-3 rounded-full shadow-xl hover:shadow-2xl transition-all text-sm md:text-sm font-semibold uppercase tracking-wide border-2 border-gray-300 hover:border-gray-400 transform hover:scale-105 active:scale-100 whitespace-nowrap text-center backdrop-blur-sm min-h-[52px] flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2",style:{boxShadow:"0 5px 15px rgba(0, 0, 0, 0.2)"},"aria-label":"Vote on Solutions",children:[(0,t.jsx)("span",{className:"hidden md:inline",children:"VOTE ON SOLUTIONS"}),(0,t.jsx)("span",{className:"md:hidden",children:"SOLUTIONS"})]})]}),!S&&!(null==_?void 0:null===(i=_.features)||void 0===i?void 0:null===(r=i[0])||void 0===r?void 0:null===(a=r.properties)||void 0===a?void 0:null===(e=a.service_areas)||void 0===e?void 0:e.walking)&&(0,t.jsx)("div",{className:"absolute top-16 left-4 z-[1000] bg-white shadow-lg rounded-lg p-3 border",children:(0,t.jsxs)("button",{onClick:en,className:"flex items-center space-x-2 text-sm text-blue-600 hover:text-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded min-h-[44px] min-w-[44px] px-3 py-2","aria-label":"Load detailed walkability areas",children:[(0,t.jsx)("span",{children:"\uD83D\uDDFA️"}),(0,t.jsx)("span",{children:"Load detailed walkability areas"})]})}),(0,t.jsxs)(n.h,{center:[47.7104377470879,-122.30045792991024],zoom:14,minZoom:12,maxZoom:18,zoomControl:!1,className:"h-full w-full z-0",style:{height:"100%",width:"100%",position:"absolute",top:0,left:0,right:0,bottom:0},whenReady:es,children:[(0,t.jsx)(c.I,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,t.jsx)(()=>{let e=(0,o.Sx)();return(0,s.useEffect)(()=>{H.current=e},[e]),null},{}),(0,t.jsx)(()=>((0,o.zV)({moveend:e=>{B(e.target.getBounds())},zoomend:e=>{B(e.target.getBounds())}}),null),{}),(0,t.jsx)(()=>{let e=(0,o.Sx)();return(0,t.jsxs)("div",{className:"fixed top-28 md:top-40 left-4 z-[1001] flex flex-col gap-2 shadow-lg",children:[(0,t.jsx)("button",{onClick:()=>{e.zoomIn()},className:"bg-white hover:bg-gray-50 text-gray-700 hover:text-gray-900 w-12 h-12 flex items-center justify-center border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-evergreen focus:ring-offset-2 min-h-[48px] min-w-[48px] shadow-md transition-all hover:shadow-lg","aria-label":"Zoom in",children:(0,t.jsx)("span",{className:"text-2xl font-bold",children:"+"})}),(0,t.jsx)("button",{onClick:()=>{e.zoomOut()},className:"bg-white hover:bg-gray-50 text-gray-700 hover:text-gray-900 w-12 h-12 flex items-center justify-center border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-evergreen focus:ring-offset-2 min-h-[48px] min-w-[48px] shadow-md transition-all hover:shadow-lg","aria-label":"Zoom out",children:(0,t.jsx)("span",{className:"text-2xl font-bold",children:"−"})}),(0,t.jsx)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),e.setView(q,14,{animate:!0}),setTimeout(()=>{e.invalidateSize()},100),V({supermarkets:!0,large_groceries:!0,small_groceries:!1,corner_stores:!1,pharmacies_full_hours:!0,pharmacies_limited_hours:!0,farmers_markets:!1,potential_library:!1,potential_neighborcare:!1,potential_health_dental:!1,potential_bartell:!1,potential_bank:!1,closed_fred_meyer:!0,closed_bartell:!0,closed_walgreens:!0,half_mile_radius:!1,one_mile_radius:!1,walking_10_min:!1,walking_15_min:!0}),E(null)},className:"bg-white hover:bg-gray-50 text-gray-700 hover:text-gray-900 w-12 h-12 flex items-center justify-center border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-evergreen focus:ring-offset-2 min-h-[48px] min-w-[48px] shadow-md transition-all hover:shadow-lg","aria-label":"Reset map view to default zoom and center",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2.5,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})},{}),(0,t.jsx)(d.m,{positions:[[47.6977,-122.3124],[47.7213,-122.3124],[47.7213,-122.3245],[47.7342,-122.3245],[47.7342,-122.2838356054288],[47.73313452983473,-122.28395312523651],[47.733078029927185,-122.28366836480313],[47.73287011026741,-122.28343558518407],[47.73277519042273,-122.28330450539858],[47.73277067043017,-122.28319828467306],[47.73274806956783,-122.28333388535049],[47.73261472978601,-122.28299262500963],[47.732409070122515,-122.28286832521303],[47.732316410274166,-122.28258130478338],[47.73225539037401,-122.28268300461696],[47.73216724961895,-122.28238468510511],[47.7319819299222,-122.28212026463848],[47.73187119010339,-122.2820547247457],[47.73173107033267,-122.28200952481967],[47.73160931022153,-122.2817148826357],[47.731595137805414,-122.28158497466683],[47.731474678113955,-122.28146687659506],[47.73133059772897,-122.2813794840759],[47.73107786844895,-122.28132043459033],[47.73096449361657,-122.28142918690742],[47.7308534813032,-122.2815047704288],[47.73069995443939,-122.2815307518427],[47.73063145667646,-122.28160397194574],[47.730520444363094,-122.28162523012026],[47.730369279118975,-122.28168664122546],[47.73008584338703,-122.28172443343584],[47.72988507603549,-122.281849617266],[47.72984255968646,-122.28199605927068],[47.72972446161464,-122.28205038371823],[47.72962998423645,-122.28210943320374],[47.72954259081797,-122.28205747037595],[47.7294575599185,-122.28186615130181],[47.729330013569324,-122.2818401689886],[47.72920246811947,-122.28174096567301],[47.72897099521532,-122.28158271467049],[47.72885998290195,-122.2815047704288],[47.72852930758154,-122.28136069004375],[47.728274215782506,-122.28133234611084],[47.72810179236387,-122.2812402303523],[47.7276766387659,-122.28098986179265],[47.727504215347324,-122.28094734634294],[47.72738139313685,-122.28086231544347],[47.727149920232705,-122.2806969777833],[47.72705308033545,-122.28064737657513],[47.726916085708865,-122.28057415557276],[47.72681452077359,-122.28048676305366],[47.72666571804848,-122.28039936963518],[47.72654998069709,-122.28033087277151],[47.726417711108525,-122.28030016811823],[47.726316147072566,-122.28031433963503],[47.72616261930949,-122.28029780559922],[47.72605869275452,-122.28018207004646],[47.725950042060845,-122.28013955369744],[47.72585083964458,-122.28011829732151],[47.72572329419472,-122.2801088490441],[47.725621729259444,-122.28009940076669],[47.72550599280737,-122.28014191621645],[47.72525562514704,-122.28004743793889],[47.725248539388645,-122.28015136359454],[47.72515878435047,-122.28023875701297],[47.72506430517359,-122.28030489225694],[47.72495093124053,-122.28029308235983],[47.72485172882426,-122.28027418580501],[47.72471709671669,-122.28029071984082],[47.72458010298942,-122.28032614863281],[47.72444547088185,-122.28037102660159],[47.72359516278658,-122.28067808212774],[47.723217248777075,-122.28079145696012],[47.723056635255546,-122.28082924827117],[47.723047186978135,-122.28124967773039],[47.722898383353765,-122.28129455479984],[47.72289366011438,-122.28087648696027],[47.722534640861056,-122.28096388037875],[47.722270100784556,-122.28097569027585],[47.721887461737026,-122.28096388037875],[47.72173393487327,-122.28095443210134],[47.721559148935626,-122.28091900330935],[47.72106077523466,-122.28081743837407],[47.72096393443809,-122.2807276833359],[47.72086000788312,-122.28079145696012],[47.72068994608418,-122.2807064260607],[47.720595467806675,-122.2807583888885],[47.72048193469357,-122.28061420957806],[47.720320803162565,-122.280598864446],[47.72023128644474,-122.28054259476488],[47.72013153724072,-122.28051446127336],[47.71984252301405,-122.27993898959267],[47.719814388623206,-122.27980087710876],[47.71976323608453,-122.2801077950387],[47.71972231333416,-122.27998758535875],[47.719658372436015,-122.2797676273741],[47.71961233434183,-122.27929190399811],[47.71954327809988,-122.27952209267039],[47.71951258603707,-122.27922029008431],[47.719443528895795,-122.27912565712336],[47.71935401217797,-122.2790361386069],[47.71912382260638,-122.27885966194378],[47.718944788271415,-122.27876502898289],[47.71885015531046,-122.27871387644421],[47.71874273309072,-122.27867551136575],[47.71856114018453,-122.27863203094341],[47.71819795437216,-122.27850926359162],[47.717658290098086,-122.2783788232241],[47.717366717300195,-122.27828930560696],[47.717136528627975,-122.2782151340212],[47.71678101583126,-122.27808213598178],[47.71667103683893,-122.27805144391897],[47.71640759933132,-122.27799261836464],[47.71625413991666,-122.27790054307559],[47.71611346886158,-122.27783660217739],[47.71554908402305,-122.27768093312852],[47.715491959986025,-122.27759873959013],[47.71545615257941,-122.27774964133283],[47.715353846602795,-122.27755014472336],[47.7149804301028,-122.27735832112961],[47.71495741105571,-122.27746062710622],[47.7148857971419,-122.27731995605109],[47.71453284111777,-122.27719974727052],[47.714356362656076,-122.2771639398639],[47.714244948345765,-122.27719589007825],[47.71390283095093,-122.27705533143836],[47.713414850714855,-122.27688294579127],[47.712926871378045,-122.27669465023786],[47.712605971688276,-122.27660447971294],[47.7124176752356,-122.27652756969155],[47.712242639286444,-122.27645596387163],[47.71206760243797,-122.27643209496517],[47.7120596461358,-122.27653817809443],[47.71194825970446,-122.27655143769869],[47.71177322285598,-122.27652756969155],[47.711606143208996,-122.27653287389296],[47.711481496274075,-122.27648778908019],[47.71133298133208,-122.27638170595094],[47.71115794358428,-122.2763949655552],[47.71092986741951,-122.27635253284308],[47.71073891796675,-122.27635253284308],[47.710521449305475,-122.27625705901602],[47.710274806637074,-122.27614036838327],[47.697701368023786,-122.27265290270924],[47.6977,-122.3124]],pathOptions:{color:"#ec4899",weight:4,opacity:1,fillColor:"transparent",fillOpacity:0,dashArray:"10, 5",interactive:!1}}),(K.half_mile_radius||K.one_mile_radius)&&eg.filter(e=>"open"===e.properties.status||"potential"===e.properties.status||"closed"===e.properties.status).map(e=>{var a,r;let[t,s]=e.properties.coordinates,i=e.properties.service_areas,l=ei(s,t),o=null==i?void 0:null===(a=i.radius)||void 0===a?void 0:a.half_mile,n=null==i?void 0:null===(r=i.radius)||void 0===r?void 0:r.one_mile,c=!!o&&el(o),d=!!n&&el(n);return{feature:e,inLakeCity:l,priority:l?1:2,shouldRenderHalf:K.half_mile_radius&&(c||l),shouldRenderOne:K.one_mile_radius&&(d||l)}}).filter(e=>e.shouldRenderHalf||e.shouldRenderOne).sort((e,a)=>e.priority-a.priority).map((e,a)=>{let{feature:r}=e,s=r.properties.service_areas,[i,l]=r.properties.coordinates;return(0,t.jsx)("div",{children:(()=>{var e,a,o;let n="closed"===r.properties.status,c="limited_hours"===r.properties.pharmacy_hours_category,p=(null===(e=r.properties.usda_category)||void 0===e?void 0:e.code)==="FM",u=n?"#dc2626":c||p?"#FFB000":"#10b981";return(0,t.jsxs)(t.Fragment,{children:[K.half_mile_radius&&((null==s?void 0:null===(a=s.radius)||void 0===a?void 0:a.half_mile)&&s.radius.half_mile.geometry.coordinates[0].length>4?(0,t.jsx)(d.m,{positions:eo(s.radius.half_mile.geometry.coordinates[0]).map(e=>[e[1],e[0]]),pathOptions:{color:u,weight:3,opacity:.8,fillColor:u,fillOpacity:.2,dashArray:"5, 5",interactive:!1},children:(0,t.jsxs)(m.u,{direction:"center",opacity:.9,className:"polygon-tooltip",children:[r.properties.name," - 1/2 Mile Radius"]})}):(0,t.jsx)(h.C,{center:[l,i],radius:804.67,pathOptions:{color:u,weight:3,opacity:.8,fillColor:u,fillOpacity:.2,dashArray:"5, 5",interactive:!1},children:(0,t.jsxs)(m.u,{direction:"center",opacity:.9,className:"polygon-tooltip",children:[r.properties.name," - 1/2 Mile Radius"]})})),K.one_mile_radius&&((null==s?void 0:null===(o=s.radius)||void 0===o?void 0:o.one_mile)&&s.radius.one_mile.geometry.coordinates[0].length>4?(0,t.jsx)(d.m,{positions:eo(s.radius.one_mile.geometry.coordinates[0]).map(e=>[e[1],e[0]]),pathOptions:{color:u,weight:3,opacity:.8,fillColor:u,fillOpacity:.15,dashArray:"10, 5",interactive:!1},children:(0,t.jsxs)(m.u,{direction:"center",opacity:.9,className:"polygon-tooltip",children:[r.properties.name," - 1 Mile Radius"]})}):(0,t.jsx)(h.C,{center:[l,i],radius:1609.34,pathOptions:{color:u,weight:3,opacity:.8,fillColor:u,fillOpacity:.15,dashArray:"10, 5",interactive:!1},children:(0,t.jsxs)(m.u,{direction:"center",opacity:.9,className:"polygon-tooltip",children:[r.properties.name," - 1 Mile Radius"]})}))]})})()},"radius-".concat(a))}),(K.walking_10_min||K.walking_15_min)&&eg.filter(e=>"open"===e.properties.status||"potential"===e.properties.status||"closed"===e.properties.status).map(e=>{var a;let[r,t]=e.properties.coordinates,s=null===(a=e.properties.service_areas)||void 0===a?void 0:a.walking,i=ei(t,r),l=null==s?void 0:s["10_min"],o=null==s?void 0:s["15_min"],n=!!l&&el(l),c=!!o&&el(o);return{feature:e,inLakeCity:i,priority:i?1:2,shouldRender10:K.walking_10_min&&(n||i),shouldRender15:K.walking_15_min&&(c||i)}}).filter(e=>e.shouldRender10||e.shouldRender15).sort((e,a)=>e.priority-a.priority).map((e,a)=>{var r,s;let{feature:i}=e,l=null===(r=i.properties.service_areas)||void 0===r?void 0:r.walking,[o,n]=i.properties.coordinates,c="closed"===i.properties.status,p="limited_hours"===i.properties.pharmacy_hours_category,u=(null===(s=i.properties.usda_category)||void 0===s?void 0:s.code)==="FM",g=c?"#dc2626":p||u?"#FFB000":"#10b981";return(0,t.jsxs)("div",{children:[K.walking_10_min&&((null==l?void 0:l["10_min"])&&l["10_min"].geometry.coordinates[0].length>4?(0,t.jsx)(d.m,{positions:l["10_min"].geometry.coordinates[0].map(e=>[e[1],e[0]]),pathOptions:{color:g,weight:3,opacity:.8,fillColor:g,fillOpacity:.2,interactive:!1},children:(0,t.jsxs)(m.u,{direction:"center",opacity:.9,className:"polygon-tooltip",children:[i.properties.name," - 10-min walk ",c?"(Closed)":p||u?"(Limited Availability)":""]})}):(0,t.jsx)(h.C,{center:[n,o],radius:805,pathOptions:{color:g,weight:3,opacity:.8,fillColor:g,fillOpacity:.2,interactive:!1},children:(0,t.jsxs)(m.u,{direction:"center",opacity:.9,className:"polygon-tooltip",children:[i.properties.name," - 10-min walk ",c?"(Closed)":p||u?"(Limited Availability)":""]})})),K.walking_15_min&&((null==l?void 0:l["15_min"])&&l["15_min"].geometry.coordinates[0].length>4?(0,t.jsx)(d.m,{positions:l["15_min"].geometry.coordinates[0].map(e=>[e[1],e[0]]),pathOptions:{color:g,weight:3,opacity:.8,fillColor:g,fillOpacity:.2,interactive:!1},children:(0,t.jsxs)(m.u,{direction:"center",opacity:.9,className:"polygon-tooltip",children:[i.properties.name," - 15-min walk ",c?"(Closed)":p||u?"(Limited Availability)":""]})}):(0,t.jsx)(h.C,{center:[n,o],radius:1207,pathOptions:{color:g,weight:3,opacity:.8,fillColor:g,fillOpacity:.2,interactive:!1},children:(0,t.jsxs)(m.u,{direction:"center",opacity:.9,className:"polygon-tooltip",children:[i.properties.name," - 15-min walk ",c?"(Closed)":p||u?"(Limited Availability)":""]})}))]},"walking-".concat(i.properties.name,"-").concat(a))}),eg.map((e,a)=>{let[r,s]=e.properties.coordinates,{name:i,usda_category:l,has_pharmacy:o,status:n}=e.properties;if(((null==l?void 0:l.code)==="SM"||i.toLowerCase().includes("target"))&&o&&"open"===n&&(K.supermarkets||K.large_groceries)&&(K.pharmacies_full_hours||K.pharmacies_limited_hours)){let c=ec(e,[s,r],em(n,o,l)),{pharmacy_hours_category:d,hours:h}=e.properties,g=e.properties.pharmacy_hours,y=eu(l,o),x=(()=>{let e="<strong>".concat(i,"</strong><br/>");if(e+="<em>".concat(y,"</em><br/>"),o&&g&&"open"===n){let a="";"full_hours"===d?a="Full Service: Day, Evening & Weekend service":"limited_hours"===d&&(a="Weekdays Only: Mon–Fri Day service"),e+='<small style="color: #666;"><strong>Pharmacy Hours:</strong><br/>'.concat(a,"<br/>").concat(g,"</small>"),i.toLowerCase().includes("indian health")&&(e+='<br/><small style="color: #d97706;"><strong>Note:</strong> Clinic enrollment required for new patients</small>')}else o&&"closed"===n&&(e+='<small style="color: #999;">Closed</small>');return e})();return(0,t.jsxs)(p.J,{position:[s,r],icon:c.options.icon,eventHandlers:{click:a=>{a.originalEvent.stopPropagation(),G===e.properties.id?E(null):E(e.properties.id)},add:e=>{e.target&&"function"==typeof e.target.bringToFront&&e.target.bringToFront()}},children:[(0,t.jsx)(m.u,{direction:"top",offset:[0,-10],opacity:1,permanent:!1,interactive:!1,className:"store-tooltip",children:(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:x}})}),G===e.properties.id&&(0,t.jsx)(u.G,{closeButton:!1,autoPan:!0,className:"store-popup",children:(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:eh(e)}})})]},"marker-".concat(a))}{let c=ed(e),d=em(n,o,l),h=eu(l,o),{pharmacy_hours_category:p,hours:y}=e.properties,x=e.properties.pharmacy_hours,b=G===e.properties.id,f=(()=>{let e="<strong>".concat(i,"</strong><br/>");if(e+="<em>".concat(h,"</em><br/>"),o&&x&&"open"===n){let a="";"full_hours"===p?a="Full Service: Day, Evening & Weekend service":"limited_hours"===p&&(a="Weekdays Only: Mon–Fri Day service"),e+='<small style="color: #666;"><strong>Pharmacy Hours:</strong><br/>'.concat(a,"<br/>").concat(x,"</small>"),i.toLowerCase().includes("indian health")&&(e+='<br/><small style="color: #d97706;"><strong>Note:</strong> Clinic enrollment required for new patients</small>')}else o&&"closed"===n&&(e+='<small style="color: #999;">Closed</small>');return e})(),_="closed"===n?1e3:"limited_hours"===p||(null==l?void 0:l.code)==="FM"?900:800;return(0,t.jsxs)(g.c,{center:[s,r],radius:d,pathOptions:{color:c,fillColor:c,fillOpacity:1,weight:b?4:2,opacity:1,interactive:!0},eventHandlers:{mouseover:e=>{e.target.setStyle({weight:3,opacity:1,zIndex:2e3}),e.target.bringToFront()},mouseout:e=>{e.target.setStyle({weight:b?4:2,opacity:1,zIndex:_})},click:a=>{a.originalEvent.stopPropagation(),G===e.properties.id?E(null):E(e.properties.id)},add:e=>{e.target&&"function"==typeof e.target.setStyle&&e.target.setStyle({zIndex:_}),e.target&&"function"==typeof e.target.bringToFront&&e.target.bringToFront()}},children:[(0,t.jsx)(m.u,{direction:"top",offset:[0,-10],opacity:1,permanent:!1,interactive:!1,className:"store-tooltip",children:(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:f}})}),b&&(0,t.jsx)(u.G,{closeButton:!1,autoPan:!0,className:"store-popup",children:(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:eh(e)}})})]},"marker-".concat(a))}})]},"lake-city-map-".concat(I))]}),Z&&(0,t.jsxs)("div",{className:"md:hidden fixed inset-x-0 bottom-0 bg-white shadow-2xl z-[1002] max-h-[75vh] flex flex-col rounded-t-3xl border-t-4 border-evergreen",style:{boxShadow:"0 -4px 30px rgba(0,0,0,0.3)"},children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-white border-b-2 border-beige p-4 z-10 rounded-t-3xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-dark",children:"Resource Access Key"}),(0,t.jsx)("button",{onClick:()=>J(!1),className:"text-gray-500 hover:text-gray-700 text-lg font-semibold min-h-[44px] min-w-[44px] flex items-center justify-center","aria-label":"Close map key",children:(0,t.jsx)("span",{"aria-hidden":"true",children:"✕"})})]}),(0,t.jsx)("div",{className:"mt-3 mb-4 p-3 bg-beige/50 rounded-lg border border-beige-dark",children:(0,t.jsx)("p",{className:"text-sm text-slate-dark leading-relaxed",children:"This map shows grocery stores, pharmacies, and walkable access areas in Lake City. Use it to understand where essential services are located and identify areas with limited or no walkable access. Yellow and red areas indicate reduced or recently lost access."})}),(0,t.jsxs)("div",{className:"p-3 bg-white border-2 border-gray-200 rounded-lg",children:[(0,t.jsx)("p",{className:"text-base text-gray-900 mb-2 font-bold",children:"Walkability Areas"}),(0,t.jsx)("p",{className:"text-xs text-gray-700 mb-3 font-semibold",children:"Yellow & Red are access loss areas."}),(0,t.jsxs)("div",{className:"space-y-1.5 text-sm",role:"list","aria-label":"Walkability area legend",children:[(0,t.jsxs)("div",{className:"flex items-center",role:"listitem",children:[(0,t.jsx)("span",{className:"w-4 h-4 mr-2 flex-shrink-0 bg-white",style:{border:"3px solid rgba(255, 176, 0, 0.8)"},"aria-label":"Gold color for limited access"}),(0,t.jsx)("span",{children:"Limited access: reduced hours, barriers to access or seasonal availability."})]}),(0,t.jsxs)("div",{className:"flex items-center",role:"listitem",children:[(0,t.jsx)("span",{className:"w-4 h-4 mr-2 flex-shrink-0 bg-white",style:{border:"3px solid rgba(220, 38, 38, 0.8)"},"aria-label":"Red color for no access"}),(0,t.jsx)("span",{children:"No access: closed."})]}),(0,t.jsxs)("div",{className:"flex items-center",role:"listitem",children:[(0,t.jsx)("span",{className:"w-4 h-4 mr-2 flex-shrink-0 bg-white",style:{border:"3px solid rgba(16, 185, 129, 0.8)"},"aria-label":"Green color for full access"}),(0,t.jsx)("span",{children:"Full access."})]})]})]})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 pb-4",style:{WebkitOverflowScrolling:"touch"},children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"font-semibold mb-4 text-base",children:"Store Types"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex items-center text-sm py-2 min-h-[44px]",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.supermarkets,onChange:()=>ep("supermarkets"),className:"mr-3 w-5 h-5","aria-label":"Toggle Supermarkets (SM) visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-3 h-3 bg-green-600 rounded-full mr-2","aria-hidden":"true"}),"Supermarkets (SM)"]}),(0,t.jsxs)("label",{className:"flex items-center text-sm py-2 min-h-[44px]",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.large_groceries,onChange:()=>ep("large_groceries"),className:"mr-3 w-5 h-5","aria-label":"Toggle Large Groceries (LG) visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-2","aria-hidden":"true"}),"Large Groceries (LG)"]}),(0,t.jsxs)("label",{className:"flex items-center text-sm py-2 min-h-[44px]",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.small_groceries,onChange:()=>ep("small_groceries"),className:"mr-3 w-5 h-5","aria-label":"Toggle Small Groceries (SG) visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-3 h-3 bg-lime-500 rounded-full mr-2","aria-hidden":"true"}),"Small Groceries (SG)"]}),(0,t.jsxs)("label",{className:"flex items-center text-sm py-2 min-h-[44px]",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.corner_stores,onChange:()=>ep("corner_stores"),className:"mr-3 w-5 h-5","aria-label":"Toggle Corner Stores (CS) visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:"#2dd4bf"},"aria-hidden":"true"}),"Corner Stores (CS)"]}),(0,t.jsxs)("label",{className:"flex items-center text-sm py-2 min-h-[44px]",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.pharmacies_full_hours,onChange:()=>ep("pharmacies_full_hours"),className:"mr-3 w-5 h-5","aria-label":"Toggle Full Service Pharmacies (PH) visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-3 h-3 bg-purple-600 rounded-full mr-2","aria-hidden":"true"}),"Full Service Pharmacies (PH)"]}),(0,t.jsxs)("label",{className:"flex items-center text-sm py-2 min-h-[44px]",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.pharmacies_limited_hours,onChange:()=>ep("pharmacies_limited_hours"),className:"mr-3 w-5 h-5","aria-label":"Toggle Limited Availability Pharmacies (PH) visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:"#FFB000"},"aria-hidden":"true"}),"Limited Availability / Constrained Pharmacies (PH)"]}),(0,t.jsxs)("label",{className:"flex items-center text-sm py-2 min-h-[44px]",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.farmers_markets,onChange:()=>ep("farmers_markets"),className:"mr-3 w-5 h-5","aria-label":"Toggle Farmers Markets (FM) visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-3 h-3 bg-green-400 rounded-full mr-2","aria-hidden":"true"}),"Farmers Markets (FM)"]})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"font-semibold mb-4 text-base",children:"Closed Stores (2023-2025)"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex items-center text-sm py-2 min-h-[44px]",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.closed_fred_meyer,onChange:()=>ep("closed_fred_meyer"),className:"mr-3 w-5 h-5","aria-label":"Toggle Fred Meyer (Supermarket) visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-3 h-3 bg-red-600 rounded-full mr-2","aria-hidden":"true"}),"Fred Meyer (Supermarket)"]}),(0,t.jsxs)("label",{className:"flex items-center text-sm py-2 min-h-[44px]",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.closed_bartell,onChange:()=>ep("closed_bartell"),className:"mr-3 w-5 h-5","aria-label":"Toggle Bartell Drugs (Pharmacy) visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-3 h-3 bg-red-600 rounded-full mr-2","aria-hidden":"true"}),"Bartell Drugs (Pharmacy)"]}),(0,t.jsxs)("label",{className:"flex items-center text-sm py-2 min-h-[44px]",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.closed_walgreens,onChange:()=>ep("closed_walgreens"),className:"mr-3 w-5 h-5","aria-label":"Toggle Walgreens (Pharmacy) visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-3 h-3 bg-red-600 rounded-full mr-2","aria-hidden":"true"}),"Walgreens (Pharmacy)"]})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"font-semibold mb-4 text-base",children:"Service Areas"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex items-center text-sm py-2 min-h-[44px]",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.walking_10_min,onChange:()=>ep("walking_10_min"),className:"mr-3 w-5 h-5","aria-label":"Toggle 10-Minute Walk visibility",tabIndex:0}),"10-Minute Walk"]}),(0,t.jsxs)("label",{className:"flex items-center text-sm py-2 min-h-[44px]",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.walking_15_min,onChange:()=>ep("walking_15_min"),className:"mr-3 w-5 h-5","aria-label":"Toggle 15-Minute Walk visibility",tabIndex:0}),"15-Minute Walk"]}),(0,t.jsxs)("label",{className:"flex items-center text-sm py-2 min-h-[44px]",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.half_mile_radius,onChange:()=>ep("half_mile_radius"),className:"mr-3 w-5 h-5","aria-label":"Toggle 1/2 Mile Radius visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-3 h-3 border-2 border-green-500 border-dashed mr-2","aria-hidden":"true"}),"1/2 Mile Radius"]}),(0,t.jsxs)("label",{className:"flex items-center text-sm py-2 min-h-[44px]",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.one_mile_radius,onChange:()=>ep("one_mile_radius"),className:"mr-3 w-5 h-5","aria-label":"Toggle 1 Mile Radius visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-3 h-3 border-2 border-green-500 border-dashed mr-2","aria-hidden":"true"}),"1 Mile Radius"]})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"font-semibold mb-4 text-base",children:"Potential Interim Pharmacy Sites"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex items-center text-sm py-2 min-h-[44px]",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.potential_library,onChange:()=>ep("potential_library"),className:"mr-3 w-5 h-5","aria-label":"Toggle Lake City Library visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-3 h-3 bg-orange-500 rounded-full mr-2","aria-hidden":"true"}),"Lake City Library"]}),(0,t.jsxs)("label",{className:"flex items-center text-sm py-2 min-h-[44px]",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.potential_neighborcare,onChange:()=>ep("potential_neighborcare"),className:"mr-3 w-5 h-5","aria-label":"Toggle Neighborcare Health Center visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-3 h-3 bg-orange-500 rounded-full mr-2","aria-hidden":"true"}),"Neighborcare Health Center"]}),(0,t.jsxs)("label",{className:"flex items-center text-sm py-2 min-h-[44px]",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.potential_health_dental,onChange:()=>ep("potential_health_dental"),className:"mr-3 w-5 h-5","aria-label":"Toggle North Seattle Public Health Dental visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-3 h-3 bg-orange-500 rounded-full mr-2","aria-hidden":"true"}),"North Seattle Public Health Dental"]}),(0,t.jsxs)("label",{className:"flex items-center text-sm py-2 min-h-[44px]",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.potential_bartell,onChange:()=>ep("potential_bartell"),className:"mr-3 w-5 h-5","aria-label":"Toggle Former Bartell Drugs Building visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-3 h-3 bg-orange-500 rounded-full mr-2","aria-hidden":"true"}),"Former Bartell Drugs Building"]}),(0,t.jsxs)("label",{className:"flex items-center text-sm py-2 min-h-[44px]",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.potential_bank,onChange:()=>ep("potential_bank"),className:"mr-3 w-5 h-5","aria-label":"Toggle Former Bank Site visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-3 h-3 bg-orange-500 rounded-full mr-2","aria-hidden":"true"}),"Former Bank Site"]})]})]}),(0,t.jsx)("div",{className:"mt-4 pt-4 pb-4 border-t border-gray-200 px-4",children:(0,t.jsx)("a",{href:"".concat(f,"/about/"),className:"bg-gray-100 active:bg-gray-200 text-gray-800 px-6 py-4 rounded-lg shadow-md active:shadow-lg transition-all text-xs font-semibold uppercase tracking-wide text-center block border-2 border-gray-300 min-h-[48px] flex items-center justify-center w-full focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2","aria-label":"Learn about categories and methodology",children:"about categories and methodology"})})]})]}),(0,t.jsx)("div",{className:"hidden md:block lg:w-[450px] xl:w-[500px] lg:h-screen lg:overflow-y-auto bg-beige border-t-2 lg:border-t-0 lg:border-l-2 border-beige-dark flex-shrink-0",children:(0,t.jsx)("div",{className:"max-w-6xl mx-auto px-6 py-3 lg:max-w-none lg:px-4 lg:py-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border-2 border-beige p-4 md:p-6 lg:rounded-none lg:shadow-none lg:border-0 lg:p-4",children:[(0,t.jsx)("h2",{className:"text-lg md:text-xl font-bold text-slate-dark mb-4 uppercase tracking-wide text-center lg:text-left",children:"Resource Access Key"}),(0,t.jsx)("div",{className:"mb-4 p-3 bg-beige/50 rounded-lg border border-beige-dark",children:(0,t.jsx)("p",{className:"text-sm text-slate-dark leading-relaxed",children:"This map shows grocery stores, pharmacies, and walkable access areas in Lake City. Use it to understand where essential services are located and identify areas with limited or no walkable access. Yellow and red areas indicate reduced or recently lost access."})}),(0,t.jsxs)("div",{className:"mb-4 p-3 bg-white border-2 border-gray-200 rounded-lg",children:[(0,t.jsx)("p",{className:"text-base text-gray-900 mb-2 font-bold",children:"Walkability Areas"}),(0,t.jsx)("p",{className:"text-xs text-gray-700 mb-3 font-semibold",children:"Yellow & Red are access loss areas."}),(0,t.jsxs)("div",{className:"space-y-1.5 text-sm",role:"list","aria-label":"Walkability area legend",children:[(0,t.jsxs)("div",{className:"flex items-center",role:"listitem",children:[(0,t.jsx)("span",{className:"w-4 h-4 mr-2 flex-shrink-0 bg-white",style:{border:"3px solid rgba(255, 176, 0, 0.8)"},"aria-label":"Gold color for limited access"}),(0,t.jsx)("span",{children:"Limited access: reduced hours, barriers to access or seasonal availability."})]}),(0,t.jsxs)("div",{className:"flex items-center",role:"listitem",children:[(0,t.jsx)("span",{className:"w-4 h-4 mr-2 flex-shrink-0 bg-white",style:{border:"3px solid rgba(220, 38, 38, 0.8)"},"aria-label":"Red color for no access"}),(0,t.jsx)("span",{children:"No access: closed."})]}),(0,t.jsxs)("div",{className:"flex items-center",role:"listitem",children:[(0,t.jsx)("span",{className:"w-4 h-4 mr-2 flex-shrink-0 bg-white",style:{border:"3px solid rgba(16, 185, 129, 0.8)"},"aria-label":"Green color for full access"}),(0,t.jsx)("span",{children:"Full access."})]})]})]}),(0,t.jsx)("div",{className:"lg:max-h-[calc(100vh-200px)] lg:overflow-y-auto",children:(0,t.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-1 gap-4 text-base",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold mb-2 text-slate-dark",children:"Store Types"}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)("label",{className:"flex items-center text-sm",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.supermarkets,onChange:()=>ep("supermarkets"),className:"mr-2","aria-label":"Toggle Supermarkets (SM) visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-2.5 h-2.5 bg-green-600 rounded-full mr-1.5","aria-hidden":"true"}),"Supermarkets (SM)"]}),(0,t.jsxs)("label",{className:"flex items-center text-xs",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.large_groceries,onChange:()=>ep("large_groceries"),className:"mr-2","aria-label":"Toggle Large Groceries (LG) visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-2.5 h-2.5 bg-green-500 rounded-full mr-1.5","aria-hidden":"true"}),"Large Groceries (LG)"]}),(0,t.jsxs)("label",{className:"flex items-center text-xs",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.small_groceries,onChange:()=>ep("small_groceries"),className:"mr-2","aria-label":"Toggle Small Groceries (SG) visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-2.5 h-2.5 bg-lime-500 rounded-full mr-1.5","aria-hidden":"true"}),"Small Groceries (SG)"]}),(0,t.jsxs)("label",{className:"flex items-center text-xs",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.corner_stores,onChange:()=>ep("corner_stores"),className:"mr-2","aria-label":"Toggle Corner Stores (CS) visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-2.5 h-2.5 rounded-full mr-1.5",style:{backgroundColor:"#2dd4bf"},"aria-hidden":"true"}),"Corner Stores (CS)"]}),(0,t.jsxs)("label",{className:"flex items-center text-xs",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.pharmacies_full_hours,onChange:()=>ep("pharmacies_full_hours"),className:"mr-2","aria-label":"Toggle Full Service Pharmacies visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-2.5 h-2.5 bg-purple-600 rounded-full mr-1.5","aria-hidden":"true"}),"Full Service Pharmacies"]}),(0,t.jsxs)("label",{className:"flex items-center text-xs",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.pharmacies_limited_hours,onChange:()=>ep("pharmacies_limited_hours"),className:"mr-2","aria-label":"Toggle Limited Availability Pharmacies visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-2.5 h-2.5 rounded-full mr-1.5",style:{backgroundColor:"#FFB000"},"aria-hidden":"true"}),"Limited Availability / Constrained Pharmacies"]}),(0,t.jsxs)("label",{className:"flex items-center text-xs",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.farmers_markets,onChange:()=>ep("farmers_markets"),className:"mr-2","aria-label":"Toggle Farmers Markets visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-2.5 h-2.5 bg-green-400 rounded-full mr-1.5","aria-hidden":"true"}),"Farmers Markets (FM)"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold mb-2 text-slate-dark",children:"Closed Stores"}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)("label",{className:"flex items-center text-sm",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.closed_fred_meyer,onChange:()=>ep("closed_fred_meyer"),className:"mr-2","aria-label":"Toggle Fred Meyer visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-2.5 h-2.5 bg-red-600 rounded-full mr-1.5","aria-hidden":"true"}),"Fred Meyer"]}),(0,t.jsxs)("label",{className:"flex items-center text-xs",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.closed_bartell,onChange:()=>ep("closed_bartell"),className:"mr-2","aria-label":"Toggle Bartell Drugs visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-2.5 h-2.5 bg-red-600 rounded-full mr-1.5","aria-hidden":"true"}),"Bartell Drugs"]}),(0,t.jsxs)("label",{className:"flex items-center text-xs",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.closed_walgreens,onChange:()=>ep("closed_walgreens"),className:"mr-2","aria-label":"Toggle Walgreens visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-2.5 h-2.5 bg-red-600 rounded-full mr-1.5","aria-hidden":"true"}),"Walgreens"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold mb-2 text-slate-dark",children:"Service Areas"}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)("label",{className:"flex items-center text-sm",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.walking_10_min,onChange:()=>ep("walking_10_min"),className:"mr-2","aria-label":"Toggle 10-Minute Walk visibility",tabIndex:0}),"10-Min Walk"]}),(0,t.jsxs)("label",{className:"flex items-center text-xs",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.walking_15_min,onChange:()=>ep("walking_15_min"),className:"mr-2","aria-label":"Toggle 15-Minute Walk visibility",tabIndex:0}),"15-Min Walk"]}),(0,t.jsxs)("label",{className:"flex items-center text-sm",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.half_mile_radius,onChange:()=>ep("half_mile_radius"),className:"mr-2","aria-label":"Toggle 1/2 Mile Radius visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-2.5 h-2.5 border-2 border-green-500 border-dashed mr-1.5","aria-hidden":"true"}),"1/2 Mile Radius"]}),(0,t.jsxs)("label",{className:"flex items-center text-xs",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.one_mile_radius,onChange:()=>ep("one_mile_radius"),className:"mr-2","aria-label":"Toggle 1 Mile Radius visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-2.5 h-2.5 border-2 border-green-500 border-dashed mr-1.5","aria-hidden":"true"}),"1 Mile Radius"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold mb-2 text-slate-dark",children:"Potential Sites"}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)("label",{className:"flex items-center text-sm",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.potential_library,onChange:()=>ep("potential_library"),className:"mr-2","aria-label":"Toggle Lake City Library visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-2.5 h-2.5 bg-orange-500 rounded-full mr-1.5","aria-hidden":"true"}),"Lake City Library"]}),(0,t.jsxs)("label",{className:"flex items-center text-xs",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.potential_neighborcare,onChange:()=>ep("potential_neighborcare"),className:"mr-2","aria-label":"Toggle Neighborcare Health Center visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-2.5 h-2.5 bg-orange-500 rounded-full mr-1.5","aria-hidden":"true"}),"Neighborcare Health"]}),(0,t.jsxs)("label",{className:"flex items-center text-xs",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.potential_health_dental,onChange:()=>ep("potential_health_dental"),className:"mr-2","aria-label":"Toggle North Seattle Public Health Dental visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-2.5 h-2.5 bg-orange-500 rounded-full mr-1.5","aria-hidden":"true"}),"Public Health Dental"]}),(0,t.jsxs)("label",{className:"flex items-center text-xs",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.potential_bartell,onChange:()=>ep("potential_bartell"),className:"mr-2","aria-label":"Toggle Former Bartell Drugs Building visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-2.5 h-2.5 bg-orange-500 rounded-full mr-1.5","aria-hidden":"true"}),"Former Bartell"]}),(0,t.jsxs)("label",{className:"flex items-center text-xs",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.potential_bank,onChange:()=>ep("potential_bank"),className:"mr-2","aria-label":"Toggle Former Bank Site visibility",tabIndex:0}),(0,t.jsx)("span",{className:"w-2.5 h-2.5 bg-orange-500 rounded-full mr-1.5","aria-hidden":"true"}),"Former Bank"]})]})]})]})}),(0,t.jsx)("div",{className:"mt-4 pt-4 border-t-2 border-beige",children:(0,t.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-1 gap-4 text-sm md:text-base",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"w-3 h-3 bg-green-600 rounded-full inline-block mt-1 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{className:"text-slate-dark",children:"SM (Supermarket):"})," Full-service supermarket with butcher, bakery, pharmacy"]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"w-3 h-3 bg-green-500 rounded-full inline-block mt-1 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{className:"text-slate-dark",children:"LG (Large Grocery):"})," Large grocery store with good fresh food selection"]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"w-3 h-3 bg-lime-500 rounded-full inline-block mt-1 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{className:"text-slate-dark",children:"SG (Small Grocery):"})," Small independent grocer with limited selection"]})]}),(0,t.jsxs)("div",{className:"ml-5 text-xs text-slate italic",children:[(0,t.jsx)("strong",{children:"Note:"})," Grocery Outlet's business model places it in the Small Grocery (SG) category. Despite its physical size, its closeout sourcing and variable fresh food selection mean it doesn't function as a full Large Grocery (LG) anchor store."]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"w-3 h-3 rounded-full inline-block mt-1 flex-shrink-0",style:{backgroundColor:"#2dd4bf"},"aria-hidden":"true"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{className:"text-slate-dark",children:"CS (Corner Store):"})," Convenience store with limited fresh food"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{className:"text-slate-dark",children:"PH (Pharmacy):"})," Pharmacy with prescription services"]}),(0,t.jsxs)("div",{className:"ml-5 space-y-1 text-xs text-slate",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-2 h-2 bg-purple-600 rounded-full inline-block"}),(0,t.jsx)("strong",{children:"Full Service:"})," Day, Evening & Weekend service"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full inline-block",style:{backgroundColor:"#FFB000"}}),(0,t.jsx)("strong",{children:"Limited Availability / Constrained:"})," This pharmacy exists but has meaningful barriers — limited hours, limited network support, limited services. (Weekdays Only: Mon–Fri Day service)"]}),(0,t.jsx)("div",{className:"ml-4 text-xs text-slate/70 italic",children:"Monday-Friday: 8am-5pm"})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"w-3 h-3 bg-green-400 rounded-full inline-block mt-1 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{className:"text-slate-dark",children:"FM (Farmers Market):"})," Seasonal market with fresh local produce"]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"w-3 h-3 bg-red-600 rounded-full inline-block mt-1 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{className:"text-slate-dark",children:"Closed:"})," Recently closed grocery and pharmacy locations"]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-1 mt-2 flex-shrink-0",style:{borderTop:"4px dashed #ec4899"},"aria-hidden":"true"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{className:"text-slate-dark",children:"Lake City Boundary:"})," Analysis area for Olympic Hills/Victory Heights and Cedar Park/Meadowbrook"]})]})]}),(0,t.jsxs)("div",{className:"space-y-3 text-sm md:text-base text-slate",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{className:"text-slate-dark",children:"Grocery Store Categories"})," based on ",(0,t.jsx)("a",{href:"https://www.fns.usda.gov/snap/store-definitions#:~:text=Establishments%20commonly%20known%20as%20supermarkets,products%20in%20warehouse%2Dtype%20environment.",target:"_blank",rel:"noopener noreferrer",className:"text-evergreen underline hover:no-underline focus:outline-none focus:ring-2 focus:ring-evergreen focus:ring-offset-1",children:"USDA SNAP Retailer Store Type Definitions (2025)"})]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{className:"text-slate-dark",children:"Radius"})," is distance and ",(0,t.jsx)("strong",{className:"text-slate-dark",children:"walk"})," is based on walk times from our API mapper. Walkability access map generated using ",(0,t.jsx)("a",{href:"https://radiusmapper.com/walking",target:"_blank",rel:"noopener noreferrer",className:"text-evergreen underline hover:no-underline focus:outline-none focus:ring-2 focus:ring-evergreen focus:ring-offset-1",children:"RadiusMapper API with walking routes"}),". Walkability areas are simplified for smooth map interaction while maintaining accuracy."]})]})]})})]})})})]})}delete l().Icon.Default.prototype._getIconUrl,l().Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"})},8401:function(e,a,r){var t=r(759);r.o(t,"Circle")&&r.d(a,{Circle:function(){return t.Circle}})},6832:function(e,a,r){var t=r(759);r.o(t,"CircleMarker")&&r.d(a,{CircleMarker:function(){return t.CircleMarker}})},7183:function(e,a,r){var t=r(759);r.o(t,"Map")&&r.d(a,{Map:function(){return t.Map}})},5125:function(e,a,r){var t=r(759);r.o(t,"Marker")&&r.d(a,{Marker:function(){return t.Marker}})},9544:function(e,a,r){var t=r(759);r.o(t,"Polygon")&&r.d(a,{Polygon:function(){return t.Polygon}})},2955:function(e,a,r){var t=r(759);r.o(t,"Popup")&&r.d(a,{Popup:function(){return t.Popup}})},8562:function(e,a,r){var t=r(759);r.o(t,"TileLayer")&&r.d(a,{TileLayer:function(){return t.TileLayer}})},832:function(e,a,r){var t=r(759);r.o(t,"Tooltip")&&r.d(a,{Tooltip:function(){return t.Tooltip}})}}]);